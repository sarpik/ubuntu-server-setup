<!DOCTYPE html>
<!-- saved from url=(0119)https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching -->
<html lang="en" class="wf-proximanova-n6-active wf-proximanova-i4-active wf-proximanova-n4-active wf-proximanova-n3-active wf-active"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching | DigitalOcean</title>

<meta name="description" content="Nginx is a high performance reverse proxy server and web server. In this guide, we will explore Nginx&#39;s http proxying and load balancing capabilities. We will cover how Nginx can use buffers and caching to improve the proxying experience for clients.">
<meta name="keywords" content="Caching Nginx Scaling Conceptual Load Balancing">

<meta name="og:title" content="Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching | DigitalOcean">
<meta name="og:description" content="Nginx is a high performance reverse proxy server and web server. In this guide, we will explore Nginx&#39;s http proxying and load balancing capabilities. We will cover how Nginx can use buffers and caching to improve the proxying experience for clients.">
<meta name="og:site_name" content="DigitalOcean">
<meta name="og:type" content="article">
<meta name="og:image" content="https://community-cdn-digitalocean-com.global.ssl.fastly.net/assets/tutorials/images/large/NGINX_tw.png?1426699777">

<meta name="twitter:site" content="DigitalOcean">
<meta name="twitter:title" content="Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching | DigitalOcean">
<meta name="twitter:description" content="Nginx is a high performance reverse proxy server and web server. In this guide, we will explore Nginx&#39;s http proxying and load balancing capabilities. We will cover how Nginx can use buffers and caching to improve the proxying experience for clients.">
<meta name="twitter:creator" content="DigitalOcean">
<meta name="twitter:card" content="photo">
<meta name="twitter:url" content="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching">
<meta name="twitter:image" content="https://community-cdn-digitalocean-com.global.ssl.fastly.net/assets/tutorials/images/large/NGINX_tw.png?1426699777">

  <link rel="canonical" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching">


    <link rel="stylesheet" media="all" href="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/application-b382140d72736182fb5af28c690553a9.css">

    
    <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="0kJrdaMoSad+tO5BVPD5U8c8O4QGZm6VDBjwfxgLAIgTARqv8LmE+WjehhkFNnoJxmVTkZ9Pg8us+TQpcrvXbA==">
    <script type="text/javascript" async="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/linkid.js.download"></script><script type="text/javascript" async="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/analytics.js.download"></script><script type="text/javascript" async="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/f.txt"></script><script type="text/javascript" async="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/roundtrip.js.download"></script><script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/all.js.download" async=""></script><script async="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/gtm.js.download"></script><script type="text/javascript" async="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/analytics.min.js.download"></script><script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/prerequisites-9a51dfaadf0d3629cc636286133a958d.js.download"></script>
    <script>
//<![CDATA[

  window.cookieDomain = '.digitalocean.com';

//]]>
</script><script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/cookieConsent.js.download"></script>
<link rel="stylesheet" href="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/cookieConsent.css">

    <script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/bugsnag.min.js.download"></script>

<script>
  window.Bugsnag = bugsnag({
    apiKey: '9ffc01bc3e1fa7891bfd20909d1bfb0e',
    logger: null
  })
</script>

<script type="text/javascript">
  if(window.analytics=window.analytics||[],window.analytics.included)window.console&&console.error&&console.error("analytics.js included twice");else{window.analytics.included=!0,window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(a){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(a),window.analytics.push(n),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(a){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)},window.analytics.SNIPPET_VERSION="2.0.9",
    window.analytics.load("puo3uv968t")}
  window.analytics.page();
</script>


<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KHWBBT');
</script>
<!-- End Google Tag Manager -->

<script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/internalCookies-4d28f1e23781229186db62120889af1f.js.download"></script>

      <script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/izu1uqu.js.download"></script>
      <style type="text/css">.tk-proxima-nova{font-family:"proxima-nova",sans-serif;}</style><style type="text/css">@font-face{font-family:tk-proxima-nova-n6;src:url(https://use.typekit.net/af/27776b/00000000000000003b9b0939/27/l?subset_id=2&fvd=n6&v=3) format("woff2"),url(https://use.typekit.net/af/27776b/00000000000000003b9b0939/27/d?subset_id=2&fvd=n6&v=3) format("woff"),url(https://use.typekit.net/af/27776b/00000000000000003b9b0939/27/a?subset_id=2&fvd=n6&v=3) format("opentype");font-weight:600;font-style:normal;}@font-face{font-family:tk-proxima-nova-n4;src:url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/l?subset_id=2&fvd=n4&v=3) format("woff2"),url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/d?subset_id=2&fvd=n4&v=3) format("woff"),url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/a?subset_id=2&fvd=n4&v=3) format("opentype");font-weight:400;font-style:normal;}@font-face{font-family:tk-proxima-nova-i4;src:url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/l?subset_id=2&fvd=i4&v=3) format("woff2"),url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/d?subset_id=2&fvd=i4&v=3) format("woff"),url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/a?subset_id=2&fvd=i4&v=3) format("opentype");font-weight:400;font-style:italic;}@font-face{font-family:tk-proxima-nova-n3;src:url(https://use.typekit.net/af/437c3d/00000000000000003b9b0932/27/l?subset_id=2&fvd=n3&v=3) format("woff2"),url(https://use.typekit.net/af/437c3d/00000000000000003b9b0932/27/d?subset_id=2&fvd=n3&v=3) format("woff"),url(https://use.typekit.net/af/437c3d/00000000000000003b9b0932/27/a?subset_id=2&fvd=n3&v=3) format("opentype");font-weight:300;font-style:normal;}</style><script>try{Typekit.load({ async: true });}catch(e){}</script>
      <script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/polyfill.min.js.download"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.digitalocean.com/community/tutorials/feed">
    <script>
      window.comApp = {
        prefix: '/community',
        svgIconPath: 'https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg',
        railsEnv: 'production',
        rootUrl: 'https://www.digitalocean.com/community'
      };
    </script>
    
    <script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/application-37e104c14067214e9efd77d5e6e911f3.js.download"></script>
      <script>window.currentUser.initData({"data":{"id":"508013","type":"users","attributes":{"username":"sarpixo","first-name":null,"last-name":null,"viewed-username-prompt":true,"website":null,"bio":null,"twitter-handle":null,"github-handle":null,"linkedin-url":null,"slug":"sarpixo","skills":null,"learn-more":null,"created-at":"2019-02-02T15:07:51.536Z","avatar-images":{},"gravatar-image":"https://secure.gravatar.com/avatar/080ece3e9b73bed4173668664c51de4f.png?filetype=png\u0026rating=g\u0026secure=true\u0026size=70","location":null,"is-admin":false,"referral-code":null,"preferences":{"upvotes-modal":true,"new-upvotes-accept-modal":false,"new-profile-modal":true},"email":"sarpixo@gmail.com","updated-at":"2019-02-02T15:08:34.844Z"},"relationships":{"posts":{"links":{"related":{"href":"/community/api/users/sarpixo/posts"}}},"statistics":{"links":{"related":{"href":"/community/api/users/sarpixo/statistics"}}}}}});</script>
  <style>.fluidvids {width: 100%; max-width: 100%; position: relative;}.fluidvids-item {position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;}</style><script id="twitter-wjs" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/widgets.js.download"></script><style type="text/css">@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/27776b/00000000000000003b9b0939/27/l?subset_id=2&fvd=n6&v=3) format("woff2"),url(https://use.typekit.net/af/27776b/00000000000000003b9b0939/27/d?subset_id=2&fvd=n6&v=3) format("woff"),url(https://use.typekit.net/af/27776b/00000000000000003b9b0939/27/a?subset_id=2&fvd=n6&v=3) format("opentype");font-weight:600;font-style:normal;}@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/l?subset_id=2&fvd=n4&v=3) format("woff2"),url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/d?subset_id=2&fvd=n4&v=3) format("woff"),url(https://use.typekit.net/af/4838bd/00000000000000003b9b0934/27/a?subset_id=2&fvd=n4&v=3) format("opentype");font-weight:400;font-style:normal;}@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/l?subset_id=2&fvd=i4&v=3) format("woff2"),url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/d?subset_id=2&fvd=i4&v=3) format("woff"),url(https://use.typekit.net/af/6aec08/00000000000000003b9b0935/27/a?subset_id=2&fvd=i4&v=3) format("opentype");font-weight:400;font-style:italic;}@font-face{font-family:proxima-nova;src:url(https://use.typekit.net/af/437c3d/00000000000000003b9b0932/27/l?subset_id=2&fvd=n3&v=3) format("woff2"),url(https://use.typekit.net/af/437c3d/00000000000000003b9b0932/27/d?subset_id=2&fvd=n3&v=3) format("woff"),url(https://use.typekit.net/af/437c3d/00000000000000003b9b0932/27/a?subset_id=2&fvd=n3&v=3) format("opentype");font-weight:300;font-style:normal;}</style><script id="facebook-jssdk" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/all.js(1).download"></script><script src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/f(1).txt"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#1d3c78;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}</style></head>
  <body class="signed-in feature-filter-bar feature-upvotes tutorials-controller tutorial-single" data-env="production" data-prefix="/community" data-user-id="sarpixo" data-facebook-app-id="694818843983011" data-completed-tutorial-id="" data-tutorial-id="1395" data-js="tutorial">
    

    <div class="outside_viewport">
        <div id="contents-modal" class="modal fade mini-modal" style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1>Contents</h1>
          <button class="close-button icon icon-close-light" data-dismiss="modal" aria-label="close"></button>
        </div>
        <div class="modal-body">
          <div class="table-of-contents-modal tocify"><ul id="tocify-header0" class="tocify-header"><li class="tocify-item tocify-focus" data-unique="general-proxying-information"><a>General Proxying Information</a></li></ul><ul id="tocify-header1" class="tocify-header"><li class="tocify-item" data-unique="deconstructing-a-basic-http-proxy-pass"><a>Deconstructing a Basic HTTP Proxy Pass</a></li></ul><ul id="tocify-header2" class="tocify-header"><li class="tocify-item" data-unique="understanding-how-nginx-processes-headers"><a>Understanding How Nginx Processes Headers</a></li></ul><ul id="tocify-header3" class="tocify-header"><li class="tocify-item" data-unique="setting-or-resetting-headers"><a>Setting or Resetting Headers</a></li></ul><ul id="tocify-header4" class="tocify-header"><li class="tocify-item" data-unique="defining-an-upstream-context-for-load-balancing-proxied-connections"><a>Defining an Upstream Context for Load Balancing Proxied Connections</a></li></ul><ul id="tocify-header5" class="tocify-header"><li class="tocify-item" data-unique="using-buffers-to-free-up-backend-servers"><a>Using Buffers to Free Up Backend Servers</a></li></ul><ul id="tocify-header6" class="tocify-header"><li class="tocify-item" data-unique="configuring-proxy-caching-to-decrease-response-times"><a>Configuring Proxy Caching to Decrease Response Times</a></li></ul><ul id="tocify-header7" class="tocify-header"><li class="tocify-item" data-unique="conclusion"><a>Conclusion</a></li></ul></div>
        </div>
      </div>
    </div>
  </div>
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="top ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon facebook-share" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link facebook-share" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbGoogle">
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=gpshare" class="share-icon share-popup" title="Share on Google+">
                <span class="sIcon icon-google-plus-B"></span>
              </a>
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=gpshare" class="share-link share-popup" title="Share on Google+">
                Google+
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;u=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;u=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="table-of-contents has-init sticky" style="top: 72px;">
    <div data-js="tableOfContentsDesktop" class="tocify"><ul id="tocify-header0" class="tocify-header"><li class="tocify-item tocify-focus" data-unique="general-proxying-information" style="cursor: pointer;"><a>General Proxying Information</a></li></ul><ul id="tocify-header1" class="tocify-header"><li class="tocify-item" data-unique="deconstructing-a-basic-http-proxy-pass" style="cursor: pointer;"><a>Deconstructing a Basic HTTP Proxy Pass</a></li></ul><ul id="tocify-header2" class="tocify-header"><li class="tocify-item" data-unique="understanding-how-nginx-processes-headers" style="cursor: pointer;"><a>Understanding How Nginx Processes Headers</a></li></ul><ul id="tocify-header3" class="tocify-header"><li class="tocify-item" data-unique="setting-or-resetting-headers" style="cursor: pointer;"><a>Setting or Resetting Headers</a></li></ul><ul id="tocify-header4" class="tocify-header"><li class="tocify-item" data-unique="defining-an-upstream-context-for-load-balancing-proxied-connections" style="cursor: pointer;"><a>Defining an Upstream Context for Load Balancing Proxied Connections</a></li></ul><ul id="tocify-header5" class="tocify-header"><li class="tocify-item" data-unique="using-buffers-to-free-up-backend-servers" style="cursor: pointer;"><a>Using Buffers to Free Up Backend Servers</a></li></ul><ul id="tocify-header6" class="tocify-header"><li class="tocify-item" data-unique="configuring-proxy-caching-to-decrease-response-times" style="cursor: pointer;"><a>Configuring Proxy Caching to Decrease Response Times</a></li></ul><ul id="tocify-header7" class="tocify-header"><li class="tocify-item" data-unique="conclusion"><a>Conclusion</a></li></ul></div>
    <button type="button" class="Button--reset Tutorial-button " data-js="markAsComplete" data-tutorialinteraction="" data-tutorialsingle=""><svg class="svg-icon svg-icon-completed"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-completed"></use></svg><span>Mark as Complete</span></button>
  </div>
  <div id="flag-modal" class="modal fade flag-modal mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Report Comment</h1>
        <a class="close-button" data-dismiss="modal" aria-label="close" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching"><span class="icon icon-close-light"></span></a>
      </div>
      <div class="modal-body">
        <form class="new_spam_flag" id="new_spam_flag" action="https://www.digitalocean.com/community" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“"><input type="hidden" name="_method" value="put">
          <ul>
              <li class="flag-reason">
                <input type="radio" value="Spam" name="spam_flag[reason]" id="spam_flag_reason_spam">
                <label for="spam_flag_reason_spam">Spam</label>
                
              </li>
              <li class="flag-reason">
                <input type="radio" value="Offensive" name="spam_flag[reason]" id="spam_flag_reason_offensive">
                <label for="spam_flag_reason_offensive">Offensive</label>
                
              </li>
              <li class="flag-reason">
                <input type="radio" value="Off-Topic" name="spam_flag[reason]" id="spam_flag_reason_off-topic">
                <label for="spam_flag_reason_off-topic">Off-Topic</label>
                
              </li>
              <li class="flag-reason">
                <input type="radio" value="Other" name="spam_flag[reason]" id="spam_flag_reason_other">
                <label for="spam_flag_reason_other">Other</label>
                <input placeholder="Reason for flagging..." class="flag-description" type="text" name="spam_flag[description]" id="spam_flag_description">
              </li>
          </ul>
          <input type="submit" name="commit" value="Submit" class="button blue-button full-width-button" id="submit-flag">
</form>      </div>
    </div>
  </div>
</div>

  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="bottom ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon facebook-share" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link facebook-share" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=fbshare" onclick="" title="Share on Facebook">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbGoogle">
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=gpshare" class="share-icon share-popup" title="Share on Google+">
                <span class="sIcon icon-google-plus-B"></span>
              </a>
              <a href="https://plus.google.com/share?url=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=gpshare" class="share-link share-popup" title="Share on Google+">
                Google+
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;u=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=Understanding%20Nginx%20HTTP%20Proxying,%20Load%20Balancing,%20Buffering,%20and%20Caching&amp;u=https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


      
    </div>

      
      
<header class="unified-nav-shims__header">
  <div class="UnifiedMobileNav " role="banner">
  <a class="UnifiedMobileNav-spaceRight" href="https://www.digitalocean.com/">
    <svg xmlns="http://www.w3.org/2000/svg" width="172" height="29" role="img" aria-labelledby="gzs5ybpwbd52vh5uzy3qynu6xnhmla4"><title id="gzs5ybpwbd52vh5uzy3qynu6xnhmla4">DigitalOcean home</title><g class="UnifiedNav-logoSVG" fill-rule="evenodd"><path d="M14.4942 29v-5.5674c5.9572 0 10.5633-5.8478 8.2892-12.059-.8425-2.3006-2.693-4.1355-5.0126-4.9706-6.262-2.2534-12.1564 2.3135-12.1573 8.2207 0 0-.0006.0014-.0014.0014H0C0 5.2123 9.1687-2.1167 19.1138.9624c4.3459 1.3457 7.7993 4.7708 9.1561 9.081C31.3742 19.9068 23.985 29 14.4942 29"></path><path d="M14.507 23.4468H8.9103v-5.549s.0005-.0011.0011-.0011h5.5949c.0006 0 .0009.0006.0009.0006v5.5495M8.9093 27.7118H4.6105l-.0012-.0012v-4.2638h4.3009v4.2638l-.0009.0012M4.6125 23.4468H1.0088c-.0015 0-.0026-.0012-.0026-.0012v-3.5724s.0011-.0025.0026-.0025h3.601c.0015 0 .0027.0011.0027.0011v3.575M43.2806 9.6357h1.649c1.8346 0 3.345.358 4.49 1.0647 1.2714.7603 1.9164 2.2069 1.9164 4.2991 0 2.1554-.6465 3.6671-1.9207 4.4942h-.0008c-1.0971.7196-2.5981 1.0846-4.462 1.0846h-1.6719V9.6357zm8.324-1.0736c-1.6598-1.142-3.7252-1.721-6.1387-1.721h-5.2537V23.373h5.2537c2.4074 0 4.4737-.6113 6.1407-1.8157.907-.6382 1.6197-1.5304 2.1185-2.651.4962-1.1144.7479-2.4288.7479-3.9067 0-1.4605-.2517-2.758-.7482-3.857-.4988-1.104-1.212-1.972-2.1202-2.5804zM58.1303 6.6376c-.5051 0-.9403.1777-1.2906.5254-.3546.335-.5346.7597-.5346 1.2618 0 .501.1791.9322.532 1.2825.3529.35.788.528 1.2932.528.5042 0 .9394-.178 1.2928-.528.3535-.3508.5324-.7821.5324-1.2825 0-.5015-.18-.926-.5324-1.2592-.3534-.3503-.7886-.528-1.2928-.528M56.6247 23.3729h2.9538V11.7294h-2.9538zM69.5321 19.5787c-.5162.5814-1.1793.8635-2.0264.8635-.8471 0-1.5064-.282-2.015-.863-.5065-.5777-.7637-1.3439-.7637-2.2773 0-.9479.2572-1.7238.764-2.3058.502-.576 1.1796-.8683 2.0147-.8683.8465 0 1.5096.284 2.0262.8695.5142.582.7751 1.3573.7751 2.3046 0 .9328-.2609 1.6988-.7749 2.2768zm.775-6.8767c-.8908-.7858-1.8858-1.2444-2.9614-1.2444-1.6305 0-2.9859.5598-4.0276 1.662-1.0555 1.0932-1.5907 2.5006-1.5907 4.1823 0 1.644.5269 3.0464 1.568 4.1709 1.0498 1.088 2.4123 1.6396 4.0503 1.6396 1.139 0 2.1182-.3144 2.9157-.9356v.268c0 .9662-.2608 1.7176-.7751 2.234-.5137.5154-1.226.7764-2.1173.7764-1.3637 0-2.2183-.5314-3.2589-1.9262l-2.0115 1.917.0542.0754c.4346.605 1.1 1.197 1.9785 1.7594.8787.5603 1.9832.8447 3.2832.8447 1.7536 0 3.1726-.5363 4.2172-1.5933 1.0506-1.0628 1.5835-2.486 1.5835-4.2286V11.7294H70.307v.9726zM75.7434 23.3729h2.9541V11.7294h-2.9541zM77.249 6.6376c-.5052 0-.94.1777-1.2906.5254-.3547.335-.5344.7597-.5344 1.2618 0 .501.1789.9322.532 1.2825.353.35.7878.528 1.293.528.5045 0 .9396-.178 1.2928-.528.3535-.3508.5323-.7821.5323-1.2825 0-.5015-.1797-.926-.5323-1.2592-.3532-.3503-.7883-.528-1.2929-.528M85.1724 8.5831h-2.9082v3.1463h-1.6888v2.6702h1.6888v4.8365c0 1.5134.3047 2.5964.9064 3.2181.6031.6247 1.6741.9414 3.1831.9414.48 0 .963-.0156 1.4354-.0463l.133-.0088v-2.6683l-1.013.0526c-.7033 0-1.1728-.1226-1.3961-.3637-.226-.245-.3406-.7636-.3406-1.5404v-4.421h2.7497v-2.6703h-2.7497V8.583M101.7735 23.3729h2.9544V6.8412h-2.9544zM134.5728 19.2094c-.5286.5874-1.0693 1.0966-1.4855 1.3613v.0005c-.4085.2599-.924.3918-1.532.3918-.8703 0-1.5703-.3144-2.1405-.9621-.567-.644-.8545-1.4716-.8545-2.4613s.2838-1.8162.8436-2.4556c.5625-.6434 1.2588-.9562 2.1285-.9562.9515 0 1.9548.5869 2.8145 1.5947l1.9525-1.8568c-1.273-1.6433-2.897-2.4081-4.8352-2.4081-1.622 0-3.028.5862-4.1788 1.7411-1.1446 1.147-1.7251 2.6074-1.7251 4.3409 0 1.7335.58 3.1977 1.7234 4.352 1.1447 1.1557 2.5514 1.7417 4.1805 1.7417 2.139 0 3.8651-.9158 5.029-2.5935l-1.9204-1.8304M140.2405 16.0973c.1422-.5567.401-1.0207.7714-1.381.4005-.3906.9214-.5885 1.5489-.5885.716 0 1.2702.2019 1.6474.6014.3495.3696.5467.8296.588 1.368h-4.5557zm6.4569-2.7414c-.4191-.5788-.9896-1.0448-1.6965-1.3854-.7047-.3404-1.526-.513-2.441-.513-1.6489 0-2.9982.6037-4.0113 1.7946-.9836 1.182-1.4818 2.651-1.4818 4.3665 0 1.7648.547 3.2253 1.6254 4.341 1.0727 1.1105 2.5083 1.6737 4.267 1.6737 1.992 0 3.627-.799 4.8587-2.3752l.0666-.0847-1.9273-1.837c-.1789.2139-.4317.4561-.6628.6722-.2918.273-.5659.4842-.8588.6289-.4415.218-.9369.3255-1.4907.3255-.8187 0-1.4964-.2388-2.0147-.71-.4847-.4403-.768-1.0345-.843-1.7683h7.8265l.0264-1.0693c0-.7569-.1038-1.4862-.3088-2.1677a6.312 6.312 0 0 0-.934-1.8918zM152.797 18.9234c.3352-.2318.8085-.3483 1.4073-.3483.7112 0 1.4654.1413 2.2426.421v1.1421c-.6421.592-1.4996.8922-2.5499.8922-.5114 0-.909-.1126-1.1822-.3355-.2683-.218-.3985-.4955-.3985-.847 0-.3994.1571-.7022.4808-.9245zm5.2452-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.678-1.143-.9829 0-1.902.2144-2.7336.6324-.7691.387-1.5245 1.0275-2.0043 1.8662l.0298.0358 1.8917 1.796c.7791-1.2322 1.6454-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5819.7304.5819 1.249v.5652c-.7324-.221-1.4629-.333-2.1738-.333-1.47 0-2.6663.3432-3.555 1.0193-.9.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1461 2.6433.7677.6372 1.7275.961 2.8524.961 1.1246 0 2.177-.4495 3.132-1.2191v.9587h2.9089v-7.4852c0-1.4173-.4572-2.523-1.3591-3.2872zM170.7656 12.8285c-.8227-.9092-1.9791-1.371-3.4371-1.371-1.172 0-2.1236.3338-2.8357.9926v-.7207h-2.897v11.6435h2.954v-6.4215c0-.8823.2119-1.5828.6293-2.0826.4162-.4987.989-.741 1.75-.741.6691 0 1.1765.2167 1.5506.662.3759.4474.5662 1.0638.5662 1.8335v6.7496H172v-6.7496c0-1.6127-.415-2.889-1.2344-3.7948M92.8158 18.9234c.3351-.2318.8087-.3483 1.4075-.3483.7112 0 1.4652.1413 2.2426.421v1.1421c-.6421.592-1.4998.8922-2.5502.8922-.5114 0-.9087-.1126-1.1819-.3355-.2683-.218-.3988-.4955-.3988-.847 0-.3994.1574-.7022.4808-.9245zm5.2451-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.6776-1.143-.983 0-1.902.2144-2.7337.6324-.7694.387-1.5247 1.0275-2.0043 1.8662l.0295.0358 1.8917 1.796c.7792-1.2322 1.6458-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5822.7304.5822 1.249v.5652c-.7327-.221-1.4631-.333-2.174-.333-1.47 0-2.6664.3432-3.555 1.0193-.8999.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1463 2.6433.7677.6372 1.7272.961 2.8524.961 1.1246 0 2.1766-.4495 3.1318-1.2191v.9587H99.42v-7.4852c0-1.4173-.457-2.523-1.359-3.2872zM115.4464 9.5808c-3.0682 0-5.5645 2.4755-5.5645 5.5188s2.4963 5.5188 5.5645 5.5188c3.0682 0 5.5645-2.4755 5.5645-5.5188s-2.4963-5.5188-5.5645-5.5188zm0 14.0408c-4.7383 0-8.5928-3.8228-8.5928-8.522 0-4.6994 3.8545-8.5223 8.5928-8.5223 4.738 0 8.5925 3.8229 8.5925 8.5223 0 4.6992-3.8545 8.522-8.5925 8.522z"></path></g></svg>

</a>
    <button class="UnifiedMobileNav-toggleButton unified-nav-shims__margin-right-regular" type="button" aria-label="Open account navigation" data-unified-mobile-nav-account-trigger-open="">
      <div class="UnifiedNavAvatar ">
        <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
      </div>
    </button>

    <nav class="UnifiedMobileNav-popUp" role="navigation" aria-hidden="true" data-unified-mobile-nav-account-popup="">
  <button class="UnifiedMobileNav-toggleButton UnifiedMobileNav-popUpCloseButton" type="button" aria-label="Close account navigation" data-unified-mobile-nav-account-trigger-close="">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="UnifiedMobileNav-toggleButtonSVG UnifiedMobileNav-closeButtonSVG"><path d="M14.8284 12l4.2427 4.2426c.781.781.781 2.0474 0 2.8285-.781.781-2.0474.781-2.8285 0L12 14.8284l-4.2426 4.2427c-.781.781-2.0474.781-2.8285 0-.781-.781-.781-2.0474 0-2.8285L9.1716 12 4.9289 7.7574c-.781-.781-.781-2.0474 0-2.8285.781-.781 2.0474-.781 2.8285 0L12 9.1716l4.2426-4.2427c.781-.781 2.0474-.781 2.8285 0 .781.781.781 2.0474 0 2.8285L14.8284 12z" fill-rule="evenodd"></path></svg>

  </button>

  <div class="UnifiedMobileNav-section">
    <div class="unified-nav-shims__user">
      <div class="UnifiedNavAvatar UnifiedNavAvatar--medium unified-nav-shims__margin-right-regular">
        <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
      </div>

      sarpixo
    </div>
  </div>

  <div class="UnifiedMobileNav-section">
    <ul class="UnifiedMobileNav-list">
      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community/notifications">
          Notifications

</a>      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community/users/sarpixo">Profile</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community/users/sarpixo/subscriptions">Subscriptions</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community/users/sarpixo?isEditing=true">Account Settings</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" rel="nofollow" data-method="delete" href="https://www.digitalocean.com/community/auth">Logout</a>
      </li>
    </ul>
  </div>
</nav>


  <button class="UnifiedMobileNav-toggleButton" type="button" aria-label="Open navigation" data-unified-mobile-nav-trigger-open="">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="UnifiedMobileNav-toggleButtonSVG UnifiedMobileNav-openButtonSVG"><g transform="translate(0 1)" fill-rule="evenodd"><rect width="24" height="3.5" rx="1.75"></rect><rect y="9" width="24" height="3.5" rx="1.75"></rect><rect y="18" width="24" height="3.5" rx="1.75"></rect></g></svg>

  </button>

  <nav class="UnifiedMobileNav-popUp" role="navigation" aria-hidden="true" data-unified-mobile-nav-popup="">
  <button class="UnifiedMobileNav-toggleButton UnifiedMobileNav-popUpCloseButton" type="button" aria-label="Close navigation" data-unified-mobile-nav-trigger-close="">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="UnifiedMobileNav-toggleButtonSVG UnifiedMobileNav-closeButtonSVG"><path d="M14.8284 12l4.2427 4.2426c.781.781.781 2.0474 0 2.8285-.781.781-2.0474.781-2.8285 0L12 14.8284l-4.2426 4.2427c-.781.781-2.0474.781-2.8285 0-.781-.781-.781-2.0474 0-2.8285L9.1716 12 4.9289 7.7574c-.781-.781-.781-2.0474 0-2.8285.781-.781 2.0474-.781 2.8285 0L12 9.1716l4.2426-4.2427c.781-.781 2.0474-.781 2.8285 0 .781.781.781 2.0474 0 2.8285L14.8284 12z" fill-rule="evenodd"></path></svg>

  </button>

  <div class="UnifiedMobileNav-section">
    <ul class="UnifiedMobileNav-list">
      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-primaryLink" href="https://www.digitalocean.com/products/droplets/">
          <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45" aria-hidden="true" class="UnifiedMobileNav-productIcon"><g stroke="#0069FF" stroke-width="2" fill="none" fill-rule="evenodd"><path d="M22.6 41.2C14.2 41.2 7 34.3 7 25.8 7 12.9 22.6 4.2 22.6 4.2s15.6 9 15.6 21.7c0 8.4-7.1 15.3-15.6 15.3z"></path><path d="M22.6 30.8c-2.9 0-5.2-2.3-5.2-5.2 0-4 5.2-7.8 5.2-7.8s5.2 3.7 5.2 7.8c0 2.9-2.3 5.2-5.2 5.2z"></path></g></svg>


          Droplets
</a>      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-primaryLink" href="https://www.digitalocean.com/products/spaces/">
          <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45" aria-hidden="true" class="UnifiedMobileNav-productIcon"><g transform="translate(4 4)" fill="#0069FF" fill-rule="nonzero"><path d="M6.5 7.6c.4 0 .7-.1 1-.3.3-.3.5-.6.5-1s-.1-.7-.3-1c-.2-.3-.6-.5-1-.5h-.1c-.7 0-1.4.6-1.4 1.3 0 .4.1.7.3 1 .3.3.6.5 1 .5zM2.7 13.3c.8 0 1.4-.5 1.5-1.3 0-.4-.1-.7-.3-1-.2-.3-.6-.5-1-.5h-.1c-.7 0-1.4.6-1.4 1.3 0 .4.1.7.3 1 .2.3.6.4 1 .5zM2.8 18.6c0-.4-.1-.7-.3-1-.2-.3-.6-.5-1-.5h-.1c-.3 0-.7.1-.9.3-.3.2-.5.6-.5 1s.1.7.3 1c.2.3.6.5 1 .5.8.1 1.5-.5 1.5-1.3zM2.8 23.9c-.4 0-.8.1-1 .3-.3.2-.5.6-.5 1s.1.7.3 1c.2.3.6.5 1 .5s.7-.1 1-.3c.3-.2.5-.6.5-1 .1-.8-.5-1.5-1.3-1.5zM6.7 29.6c-.8 0-1.5.6-1.5 1.3 0 .4.1.7.3 1 .2.3.6.5 1 .5s.7-.1 1-.3c.3-.2.5-.6.5-1s-.1-.7-.3-1c-.2-.3-.6-.4-1-.5zM12.4 33.3c-.4 0-.8.1-1 .3-.3.2-.5.6-.5 1s.1.7.3 1c.2.3.6.5 1 .5s.7-.1 1-.3c.3-.2.5-.6.5-1s-.1-.7-.3-1c-.3-.3-.6-.5-1-.5z"></path><circle cx="25.1" cy="27" r="1.4"></circle><circle cx="28.8" cy="21.8" r="1.4"></circle><circle cx="28.9" cy="15.5" r="1.4"></circle><circle cx="25" cy="10.1" r="1.4"></circle><path d="M12.3 3.8c.8 0 1.4-.5 1.5-1.3.1-.8-.6-1.5-1.3-1.5h-.1c-.3 0-.7.1-.9.3-.3.2-.5.6-.5 1s.1.7.3 1c.2.3.6.5 1 .5zM18.6 30.1v-2.4c-4.9-.2-8.9-4.2-8.9-9.2 0-5 3.9-9 8.9-9.2V6.9c-6.2.2-11.3 5.3-11.3 11.6s5.1 11.4 11.3 11.6zM19.2 0v2.4c8.8.2 15.9 7.4 15.9 16.2 0 8.8-7.1 16-15.9 16.2v2.4c10.1-.2 18.3-8.5 18.3-18.6C37.5 8.5 29.3.2 19.2 0z"></path></g></svg>


          Spaces
</a>      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-primaryLink" href="https://www.digitalocean.com/products/kubernetes/">
          <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45" aria-hidden="true" class="UnifiedMobileNav-productIcon"><path fill="none" stroke="#0069FF" stroke-width="2" d="M36.779 23.119c0 7.962-6.454 14.416-14.416 14.416-7.962 0-14.416-6.454-14.416-14.416 0-7.962 6.454-14.417 14.416-14.417 7.962 0 14.416 6.455 14.416 14.417zm-9.212.031c0 2.844-2.306 5.151-5.151 5.151-2.845 0-5.151-2.307-5.151-5.151 0-2.845 2.306-5.151 5.151-5.151 2.845 0 5.151 2.306 5.151 5.151zm-5.153-5.291V3.435v14.424zM6.999 10.598l11.22 9.136-11.22-9.136zm30.833 0l-11.219 9.136 11.219-9.136zm4.001 16.795l-14.11-3.095 14.11 3.095zM3 27.393l14.11-3.095L3 27.393zM31.2 41l-6.405-13.343L31.2 41zm-17.558 0l6.304-13.343L13.642 41z"></path></svg>


          Kubernetes
</a>      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-primaryLink" href="https://www.digitalocean.com/products/load-balancer/">
          <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45" aria-hidden="true" class="UnifiedMobileNav-productIcon"><g fill="none" fill-rule="evenodd" stroke="#0069FF" stroke-width="2" transform="translate(11 4)"><ellipse cx="12" cy="21" rx="10" ry="3"></ellipse><path d="M12 9S0 17.575 0 26.342C0 32.797 5.355 38 12 38c6.644 0 12-5.203 12-11.658C24.098 17.864 12 9 12 9z"></path><path stroke-dasharray="0,4" stroke-linecap="round" d="M2.5 5v7M23.5 7v8M9.5 0v7M16.5 2v7"></path></g></svg>


          Load Balancers
</a>      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-primaryLink" href="https://www.digitalocean.com/products/block-storage/">
          <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45" aria-hidden="true" class="UnifiedMobileNav-productIcon"><g fill="none" fill-rule="evenodd" stroke="#0069FF" stroke-width="2"><path stroke-dasharray="0,4" stroke-linecap="round" d="M22.426 23.373V4.745M7.37 32.388l14.983-9.313 15.058 9.239"></path><path d="M22.426 23.075v18.627m.074-18.33L7.443 14.134M37.557 14.059L22.5 23.373M7.369 13.76v18.554l14.983 9.313 15.058-9.313V13.686L22.352 4.447z"></path></g></svg>


          Block Storage
</a>      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-primaryLink" href="https://www.digitalocean.com/products/one-click-apps/">
          <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" viewBox="0 0 45 45" aria-hidden="true" class="UnifiedMobileNav-productIcon"><g fill="#005DFF" fill-rule="nonzero"><path d="M36.7 40.3c-.3 0-.5-.1-.7-.3l-5.4-5.3-2.2 4.2c-.2.4-.6.6-1 .5-.4 0-.7-.3-.9-.7L20.1 21c-.1-.4 0-.8.2-1 .3-.3.7-.4 1-.2L39 26.2c.4.1.6.5.7.9 0 .4-.2.8-.5 1L35 30.2l5.4 5.3c.2.2.3.4.3.7 0 .3-.1.5-.3.7L37.5 40c-.2.2-.5.3-.8.3zm-6.3-8.2c.3 0 .5.1.7.3l5.7 5.6 1.6-1.6-5.7-5.5c-.2-.2-.3-.5-.3-.9 0-.3.2-.6.5-.7l3.4-1.7-13.5-4.9L27.7 36l1.8-3.4c.1-.3.4-.5.7-.5h.2zM9.177 10.126l1.414-1.414 6.86 6.859-1.415 1.414zM20.4 5.4h2V15h-2zM25.47 15.52l6.293-6.293 1.414 1.415-6.293 6.293zM5.5 20.1h10v2h-10zM9.197 31.914l6.647-6.646 1.415 1.414-6.647 6.647z"></path></g></svg>


          One-Click Apps
</a>      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-primaryLink" href="https://developers.digitalocean.com/documentation/">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" class="UnifiedMobileNav-productIcon"><g stroke="#0069FF" fill="none" fill-rule="evenodd"><path d="M3.4 17.5h12.2c.8 0 1.5-.7 1.5-1.5V3.8c0-.7-.6-1.3-1.3-1.3H6c-.7 0-1.3.6-1.3 1.3V16c.1.9-.5 1.5-1.3 1.5S2 16.9 2 16.1v-5h2.8M14.3 9H7.8M14.3 11.5H7.8M14.3 14H7.8M4.8 5.4H17"></path></g></svg>


          API Documentation
</a>      </li>
    </ul>
  </div>

  <div class="UnifiedMobileNav-section">
    <ul class="UnifiedMobileNav-list UnifiedMobileNav--columned">
      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community">Community</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community/tutorials">Tutorials</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community/questions">Q&amp;A</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/community/projects">Projects</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.meetup.com/pro/digitalocean/?utm_source=do_community/">Meetups</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/customers/">Customers</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/pricing/">Pricing</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/docs/">Docs</a>
      </li>

      <li class="UnifiedMobileNav-ListItem">
        <a class="UnifiedMobileNav-secondaryLink" href="https://www.digitalocean.com/company/contact/">Support</a>
      </li>

    </ul>
  </div>

  <div class="UnifiedMobileNav-section">
    <form action="https://www.digitalocean.com/community/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="âœ“">
      <input type="text" name="q" id="q" aria-label="Search Community" placeholder="Search Community" autocomplete="off" spellcheck="false" class="UnifiedMobileNav-searchInput" data-algolia-application-id="6ZHEUVKJ88" data-algolia-api-key="c5470567eae7fa1177d43222e18ba086" data-unified-nav-search-input="true">
</form>
  </div>
</nav>

</div>

  <div class="UnifiedNav " data-unified-nav="">
  <nav class="unified-nav-shims__container" role="navigation">
    <ul class="UnifiedNav-list">
      <li clas="UnifiedNav-listItem">
        <a class="UnifiedNav-siteLogo" href="https://www.digitalocean.com/">
          <svg width="172" height="29" xmlns="http://www.w3.org/2000/svg"><title>DigitalOcean home</title><g class="UnifiedNav-logoSVG" fill-rule="evenodd"><path d="M14.4942 29v-5.5674c5.9572 0 10.5633-5.8478 8.2892-12.059-.8425-2.3006-2.693-4.1355-5.0126-4.9706-6.262-2.2534-12.1564 2.3135-12.1573 8.2207 0 0-.0006.0014-.0014.0014H0C0 5.2123 9.1687-2.1167 19.1138.9624c4.3459 1.3457 7.7993 4.7708 9.1561 9.081C31.3742 19.9068 23.985 29 14.4942 29"></path><path d="M14.507 23.4468H8.9103v-5.549s.0005-.0011.0011-.0011h5.5949c.0006 0 .0009.0006.0009.0006v5.5495M8.9093 27.7118H4.6105l-.0012-.0012v-4.2638h4.3009v4.2638l-.0009.0012M4.6125 23.4468H1.0088c-.0015 0-.0026-.0012-.0026-.0012v-3.5724s.0011-.0025.0026-.0025h3.601c.0015 0 .0027.0011.0027.0011v3.575M43.2806 9.6357h1.649c1.8346 0 3.345.358 4.49 1.0647 1.2714.7603 1.9164 2.2069 1.9164 4.2991 0 2.1554-.6465 3.6671-1.9207 4.4942h-.0008c-1.0971.7196-2.5981 1.0846-4.462 1.0846h-1.6719V9.6357zm8.324-1.0736c-1.6598-1.142-3.7252-1.721-6.1387-1.721h-5.2537V23.373h5.2537c2.4074 0 4.4737-.6113 6.1407-1.8157.907-.6382 1.6197-1.5304 2.1185-2.651.4962-1.1144.7479-2.4288.7479-3.9067 0-1.4605-.2517-2.758-.7482-3.857-.4988-1.104-1.212-1.972-2.1202-2.5804zM58.1303 6.6376c-.5051 0-.9403.1777-1.2906.5254-.3546.335-.5346.7597-.5346 1.2618 0 .501.1791.9322.532 1.2825.3529.35.788.528 1.2932.528.5042 0 .9394-.178 1.2928-.528.3535-.3508.5324-.7821.5324-1.2825 0-.5015-.18-.926-.5324-1.2592-.3534-.3503-.7886-.528-1.2928-.528M56.6247 23.3729h2.9538V11.7294h-2.9538zM69.5321 19.5787c-.5162.5814-1.1793.8635-2.0264.8635-.8471 0-1.5064-.282-2.015-.863-.5065-.5777-.7637-1.3439-.7637-2.2773 0-.9479.2572-1.7238.764-2.3058.502-.576 1.1796-.8683 2.0147-.8683.8465 0 1.5096.284 2.0262.8695.5142.582.7751 1.3573.7751 2.3046 0 .9328-.2609 1.6988-.7749 2.2768zm.775-6.8767c-.8908-.7858-1.8858-1.2444-2.9614-1.2444-1.6305 0-2.9859.5598-4.0276 1.662-1.0555 1.0932-1.5907 2.5006-1.5907 4.1823 0 1.644.5269 3.0464 1.568 4.1709 1.0498 1.088 2.4123 1.6396 4.0503 1.6396 1.139 0 2.1182-.3144 2.9157-.9356v.268c0 .9662-.2608 1.7176-.7751 2.234-.5137.5154-1.226.7764-2.1173.7764-1.3637 0-2.2183-.5314-3.2589-1.9262l-2.0115 1.917.0542.0754c.4346.605 1.1 1.197 1.9785 1.7594.8787.5603 1.9832.8447 3.2832.8447 1.7536 0 3.1726-.5363 4.2172-1.5933 1.0506-1.0628 1.5835-2.486 1.5835-4.2286V11.7294H70.307v.9726zM75.7434 23.3729h2.9541V11.7294h-2.9541zM77.249 6.6376c-.5052 0-.94.1777-1.2906.5254-.3547.335-.5344.7597-.5344 1.2618 0 .501.1789.9322.532 1.2825.353.35.7878.528 1.293.528.5045 0 .9396-.178 1.2928-.528.3535-.3508.5323-.7821.5323-1.2825 0-.5015-.1797-.926-.5323-1.2592-.3532-.3503-.7883-.528-1.2929-.528M85.1724 8.5831h-2.9082v3.1463h-1.6888v2.6702h1.6888v4.8365c0 1.5134.3047 2.5964.9064 3.2181.6031.6247 1.6741.9414 3.1831.9414.48 0 .963-.0156 1.4354-.0463l.133-.0088v-2.6683l-1.013.0526c-.7033 0-1.1728-.1226-1.3961-.3637-.226-.245-.3406-.7636-.3406-1.5404v-4.421h2.7497v-2.6703h-2.7497V8.583M101.7735 23.3729h2.9544V6.8412h-2.9544zM134.5728 19.2094c-.5286.5874-1.0693 1.0966-1.4855 1.3613v.0005c-.4085.2599-.924.3918-1.532.3918-.8703 0-1.5703-.3144-2.1405-.9621-.567-.644-.8545-1.4716-.8545-2.4613s.2838-1.8162.8436-2.4556c.5625-.6434 1.2588-.9562 2.1285-.9562.9515 0 1.9548.5869 2.8145 1.5947l1.9525-1.8568c-1.273-1.6433-2.897-2.4081-4.8352-2.4081-1.622 0-3.028.5862-4.1788 1.7411-1.1446 1.147-1.7251 2.6074-1.7251 4.3409 0 1.7335.58 3.1977 1.7234 4.352 1.1447 1.1557 2.5514 1.7417 4.1805 1.7417 2.139 0 3.8651-.9158 5.029-2.5935l-1.9204-1.8304M140.2405 16.0973c.1422-.5567.401-1.0207.7714-1.381.4005-.3906.9214-.5885 1.5489-.5885.716 0 1.2702.2019 1.6474.6014.3495.3696.5467.8296.588 1.368h-4.5557zm6.4569-2.7414c-.4191-.5788-.9896-1.0448-1.6965-1.3854-.7047-.3404-1.526-.513-2.441-.513-1.6489 0-2.9982.6037-4.0113 1.7946-.9836 1.182-1.4818 2.651-1.4818 4.3665 0 1.7648.547 3.2253 1.6254 4.341 1.0727 1.1105 2.5083 1.6737 4.267 1.6737 1.992 0 3.627-.799 4.8587-2.3752l.0666-.0847-1.9273-1.837c-.1789.2139-.4317.4561-.6628.6722-.2918.273-.5659.4842-.8588.6289-.4415.218-.9369.3255-1.4907.3255-.8187 0-1.4964-.2388-2.0147-.71-.4847-.4403-.768-1.0345-.843-1.7683h7.8265l.0264-1.0693c0-.7569-.1038-1.4862-.3088-2.1677a6.312 6.312 0 0 0-.934-1.8918zM152.797 18.9234c.3352-.2318.8085-.3483 1.4073-.3483.7112 0 1.4654.1413 2.2426.421v1.1421c-.6421.592-1.4996.8922-2.5499.8922-.5114 0-.909-.1126-1.1822-.3355-.2683-.218-.3985-.4955-.3985-.847 0-.3994.1571-.7022.4808-.9245zm5.2452-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.678-1.143-.9829 0-1.902.2144-2.7336.6324-.7691.387-1.5245 1.0275-2.0043 1.8662l.0298.0358 1.8917 1.796c.7791-1.2322 1.6454-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5819.7304.5819 1.249v.5652c-.7324-.221-1.4629-.333-2.1738-.333-1.47 0-2.6663.3432-3.555 1.0193-.9.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1461 2.6433.7677.6372 1.7275.961 2.8524.961 1.1246 0 2.177-.4495 3.132-1.2191v.9587h2.9089v-7.4852c0-1.4173-.4572-2.523-1.3591-3.2872zM170.7656 12.8285c-.8227-.9092-1.9791-1.371-3.4371-1.371-1.172 0-2.1236.3338-2.8357.9926v-.7207h-2.897v11.6435h2.954v-6.4215c0-.8823.2119-1.5828.6293-2.0826.4162-.4987.989-.741 1.75-.741.6691 0 1.1765.2167 1.5506.662.3759.4474.5662 1.0638.5662 1.8335v6.7496H172v-6.7496c0-1.6127-.415-2.889-1.2344-3.7948M92.8158 18.9234c.3351-.2318.8087-.3483 1.4075-.3483.7112 0 1.4652.1413 2.2426.421v1.1421c-.6421.592-1.4998.8922-2.5502.8922-.5114 0-.9087-.1126-1.1819-.3355-.2683-.218-.3988-.4955-.3988-.847 0-.3994.1574-.7022.4808-.9245zm5.2451-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.6776-1.143-.983 0-1.902.2144-2.7337.6324-.7694.387-1.5247 1.0275-2.0043 1.8662l.0295.0358 1.8917 1.796c.7792-1.2322 1.6458-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5822.7304.5822 1.249v.5652c-.7327-.221-1.4631-.333-2.174-.333-1.47 0-2.6664.3432-3.555 1.0193-.8999.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1463 2.6433.7677.6372 1.7272.961 2.8524.961 1.1246 0 2.1766-.4495 3.1318-1.2191v.9587H99.42v-7.4852c0-1.4173-.457-2.523-1.359-3.2872zM115.4464 9.5808c-3.0682 0-5.5645 2.4755-5.5645 5.5188s2.4963 5.5188 5.5645 5.5188c3.0682 0 5.5645-2.4755 5.5645-5.5188s-2.4963-5.5188-5.5645-5.5188zm0 14.0408c-4.7383 0-8.5928-3.8228-8.5928-8.522 0-4.6994 3.8545-8.5223 8.5928-8.5223 4.738 0 8.5925 3.8229 8.5925 8.5223 0 4.6992-3.8545 8.522-8.5925 8.522z"></path></g></svg>

</a>      </li>

      <li class="UnifiedNav-listItem UnifiedNav-listItem--extraSpace" data-unified-nav-dropdown-component="">
        <a class="UnifiedNav-link" data-unified-nav-dropdown-trigger="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">
          Products

          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="UnifiedNavDropdown-chevron">
  <path d="M31.296 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.512L16 20.736 3.2 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.448S.256 8.32.256 8.768c0 .512.192.96.512 1.28L14.72 24.32c.32.32.704.512 1.152.512.256 0 .512-.064.768-.192.128-.064.256-.128.384-.128l.128-.064 14.016-14.336c.768-.64.704-1.728.128-2.432z"></path>
</svg>

</a>
        <div class="UnifiedNavDropdown" data-unified-nav-dropdown-content="">
  <ul class="UnifiedNavDropdown-list">

    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/products/droplets/">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/droplets-8c0da195b507fa4eedeca0ceb242910b.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Droplets
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Scalable compute services.
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/products/spaces/">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/spaces-2e58e376eb8351928201edb669534578.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Spaces
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Simple object storage.
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/products/kubernetes/">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/kubernetes-f2d12fcd6216cb404dac3a41cfd7a6d3.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Kubernetes
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Run managed Kubernetes clusters.
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/products/load-balancer/">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/load-balancers-fcdf1aa81a04c044fe3f9aed9d30ff02.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Load Balancers
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Easily distribute traffic.
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/products/block-storage/">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/block-storage-9990b142db125078e860c66644ef99b7.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Block Storage
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Attach scalable volumes.
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/products/one-click-apps/">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/one-click-apps-f0005e5882ea1edfc9fdb04b424fce58.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          One-Click Apps
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Deploy pre-built applications.
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--borderedTop UnifiedNavDropdown-item--interactive">
      <a href="https://developers.digitalocean.com/documentation/">
        <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--centered UnifiedNavDropdown-link--small">
          <div class="UnifiedNavDropdown-link-icon">
            <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/Documentation-264262b8b0785ce36dd159e115ad0759.svg">
          </div>
          <span class="UnifiedNavDropdown-link-content">
            API Documentation
          </span>
        </div>
</a>    </li>
  </ul>
</div>

      </li>

      <li class="UnifiedNav-listItem">
        <a class="UnifiedNav-link" href="https://www.digitalocean.com/customers/">Customers</a>
      </li>

      <li class="UnifiedNav-listItem" data-unified-nav-dropdown-component="">
        <a class="UnifiedNav-link UnifiedNav-link--community" data-unified-nav-dropdown-trigger="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">
          <span class="UnifiedNav-linkText">Community</span>

          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="UnifiedNavDropdown-chevron">
  <path d="M31.296 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.512L16 20.736 3.2 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.448S.256 8.32.256 8.768c0 .512.192.96.512 1.28L14.72 24.32c.32.32.704.512 1.152.512.256 0 .512-.064.768-.192.128-.064.256-.128.384-.128l.128-.064 14.016-14.336c.768-.64.704-1.728.128-2.432z"></path>
</svg>

</a>
        <div class="UnifiedNavDropdown" data-unified-nav-dropdown-content="">
  <ul class="UnifiedNavDropdown-list">
    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/community">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/CommunityOverview-1019dcfb0f684b3302e471081336a21a.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Community Overview
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Connect, share and learn
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/community/tutorials">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/Tutorials-b6da4f195d0a2a0138b8fd170c36f1bb.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Tutorials
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          DevOps and development guides
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/community/questions">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/QandA-3e0367f422de8278d660c770f3bb7709.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Questions &amp; Answers
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Development and systems Q&amp;A
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/community/projects">
    <div class="UnifiedNavDropdown-link">
      <div class="UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/Projects-f56d9a0622a9e104071806947dae4d69.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Projects
        </p>
        <p class="UnifiedNavDropdown-link-contentDescription">
          Community-built integrations
        </p>
      </div>
    </div>
</a></li>

  </ul>
  <div class="UnifiedNavDropdown-split">
    <dl class="UnifiedNavDropdown-splitSection">
      <dt class="UnifiedNavDropdown-splitSection-label">
        Get Involved
      </dt>
      <dd class="UnifiedNavDropdown-splitSection-linkLine">
        <a class="UnifiedNavDropdown-splitSection-link" href="https://www.digitalocean.com/write-for-donations">Write for DOnations</a>
      </dd>
      <dd class="UnifiedNavDropdown-splitSection-linkLine">
        <a target="_blank" class="UnifiedNavDropdown-splitSection-link" href="https://www.meetup.com/pro/digitalocean/?utm_source=do_community/">Join us at a Meetup</a>
      </dd>
    </dl>
    <dl class="UnifiedNavDropdown-splitSection">
      <dt class="UnifiedNavDropdown-splitSection-label">
        Featured Post
      </dt>
      <dd class="UnifiedNavDropdown-splitSection-linkLine">
        <a class="UnifiedNavDropdown-splitSection-link" href="https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes">An Introduction to Kubernetes</a>
        <p class="UnifiedNavDropdown-splitSection-extraText">
          by Justin Ellingwood
        </p>
      </dd>
    </dl>
  </div>
</div>

      </li>

      <li class="UnifiedNav-listItem UnifiedNav-spaceRight">
        <a class="UnifiedNav-link" href="https://www.digitalocean.com/pricing/">Pricing</a>
      </li>

      <li class="UnifiedNav-listItem UnifiedNav-listItem--extraSpace">
        <div class="UnifiedNavSearch-wrap">
          <div class="UnifiedNavSearch" data-unified-nav-search-component="">
            <a class="UnifiedNavSearch-link" data-unified-nav-search-trigger="true" href="https://www.digitalocean.com/community/search">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="UnifiedNavSearch-icon">
  <g transform="translate(1 1)" fill="currentColor" fill-rule="evenodd">
    <path d="M6,12 C2.6862915,12 0,9.3137085 0,6 C0,2.6862915 2.6862915,0 6,0 C9.3137085,0 12,2.6862915 12,6 C12,9.3137085 9.3137085,12 6,12 Z M6,10 C8.209139,10 10,8.209139 10,6 C10,3.790861 8.209139,2 6,2 C3.790861,2 2,3.790861 2,6 C2,8.209139 3.790861,10 6,10 Z" fill-rule="nonzero"></path>
    <rect transform="rotate(-45 11.828 11.828)" x="10.828" y="8.828" width="2" height="6" rx="1"></rect>
  </g>
</svg>

</a>            <div class="UnifiedNavSearch-box" data-unified-nav-search-box="">
              <form action="https://www.digitalocean.com/community/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="âœ“">
                <input type="text" name="q" id="q" title="Search" placeholder="Search" autocomplete="off" spellcheck="false" class="header-search__input UnifiedNavSearch-input" data-algolia-application-id="6ZHEUVKJ88" data-algolia-api-key="c5470567eae7fa1177d43222e18ba086" data-unified-nav-search-input="true">
</form>              <button class="UnifiedNavSearch-closeButton" data-unified-nav-search-close="">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" role="img" aria-labelledby="4seagmx0in37so8adzggdnd3q86nwew" class="UnifiedNavSearch-closeIcon"><title id="4seagmx0in37so8adzggdnd3q86nwew">Close search</title>
  <g transform="rotate(45 6.293 8.707)" fill="currentColor" fill-rule="evenodd">
    <rect x="-1" y="6" width="16" height="2" rx="1"></rect>
    <rect x="6" y="-1" width="2" height="16" rx="1"></rect>
  </g>
</svg>

              </button>
            </div>
          </div>
          <div class="search-results-dropdown dropdown" data-root-path="https://www.digitalocean.com/community">
  <div class="container">
    <div class="header-search-results-list"></div>

    <div id="btn-wrap">
      <a class="more-search-results" data-search-path="/community/search" href="https://www.digitalocean.com/community/search">
        <span class="icon-mag"></span>
        View All Results
</a>    </div>
  </div>
</div>

<script type="text/template" id="autocomplete-hits-template">
  <div class="inner-search">
    <ul>
        {{#hits}}
          <li>
            <span class='icon icon-{{type}}'></span>
            <a href='{{url}}'>{{title}}</a>
          </li>
        {{/hits}}
    </ul>
  </div>
</script>

        </div>
      </li>

      <li class="UnifiedNav-listItem">
        <a class="UnifiedNav-link UnifiedNav-link--docs" href="https://www.digitalocean.com/docs/">
          <span class="UnifiedNav-linkText">Docs</span>
</a>      </li>

      <li class="UnifiedNav-listItem" data-unified-nav-dropdown-component="">
        <a class="UnifiedNav-link" data-unified-nav-dropdown-trigger="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">
          Support

          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="UnifiedNavDropdown-chevron">
  <path d="M31.296 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.512L16 20.736 3.2 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.448S.256 8.32.256 8.768c0 .512.192.96.512 1.28L14.72 24.32c.32.32.704.512 1.152.512.256 0 .512-.064.768-.192.128-.064.256-.128.384-.128l.128-.064 14.016-14.336c.768-.64.704-1.728.128-2.432z"></path>
</svg>

</a>
        <div class="UnifiedNavDropdown UnifiedNavDropdown--small UnifiedNavDropdown--right" data-unified-nav-dropdown-content="">
  <ul class="UnifiedNavDropdown-list">
    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/docs/">
    <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
      <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/documentation-ef55fa74bbda23e1bc80f47bc87d1946.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Documentation
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://www.digitalocean.com/company/contact/">
    <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
      <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/Support-e610eba9184efb6701d0da90b5a8d86b.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Contact Support
        </p>
      </div>
    </div>
</a></li>


    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
  <a href="https://status.digitalocean.com/">
    <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
      <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
        <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/Network-Status-b981a587ed9cd13e5d9e26c8ed8d9ef7.svg">
      </div>
      <div class="UnifiedNavDropdown-link-content">
        <p class="UnifiedNavDropdown-link-contentTitle">
          Network Status
        </p>
      </div>
    </div>
</a></li>

  </ul>
</div>

      </li>

        <li class="UnifiedNav-listItem" data-unified-nav-dropdown-component="">
          <a class="unified-nav-shims__account UnifiedNav-link" data-unified-nav-dropdown-trigger="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">
            <div class="UnifiedNavAvatar ">
              <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
              <span class="unified-nav-shims__avatar-name">
                sarpixo
              </span>
            </div>
            <div class="unified-nav-shims__chevron">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="UnifiedNavDropdown-chevron">
  <path d="M31.296 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.512L16 20.736 3.2 7.68c-.256-.32-.704-.512-1.216-.512-.448 0-.896.192-1.216.448S.256 8.32.256 8.768c0 .512.192.96.512 1.28L14.72 24.32c.32.32.704.512 1.152.512.256 0 .512-.064.768-.192.128-.064.256-.128.384-.128l.128-.064 14.016-14.336c.768-.64.704-1.728.128-2.432z"></path>
</svg>

            </div>

            </a><div class="UnifiedNavDropdown UnifiedNavDropdown--small UnifiedNavDropdown--right" data-unified-nav-dropdown-content=""><a class="unified-nav-shims__account UnifiedNav-link" data-unified-nav-dropdown-trigger="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">
  </a><ul class="UnifiedNavDropdown-list"><a class="unified-nav-shims__account UnifiedNav-link" data-unified-nav-dropdown-trigger="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">
    </a><li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive"><a class="unified-nav-shims__account UnifiedNav-link" data-unified-nav-dropdown-trigger="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">
      </a><a href="https://www.digitalocean.com/community/users/sarpixo">
        <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
          <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
            <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/icon-user-284154d3adfb65d458b6869715d3fad8.svg">
          </div>

          <div class="UnifiedNavDropdown-link-content">
            <p class="UnifiedNavDropdown-link-contentTitle">
              Profile
            </p>
          </div>
        </div>
</a>    </li>

    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
      <a href="https://www.digitalocean.com/community/users/sarpixo/subscriptions">
        <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
          <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
            <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/icon-subscriptions-d3e53c8d5caf67888892b6ff4d55e024.svg">
          </div>

          <div class="UnifiedNavDropdown-link-content">
            <p class="UnifiedNavDropdown-link-contentTitle">
              Subscriptions
            </p>
          </div>
        </div>
</a>    </li>

    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
      <a href="https://www.digitalocean.com/community/notifications">
        <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
          <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
            <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/icon-notifications-a87b987a6816f8f8b2b2e7a0331ede0d.svg">
          </div>

          <div class="UnifiedNavDropdown-link-content">
            <p class="UnifiedNavDropdown-link-contentTitle">
              Notifications
            </p>
          </div>
        </div>
</a>    </li>

    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
      <a href="https://www.digitalocean.com/community/users/sarpixo?isEditing=true">
        <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
          <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
            <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/icon-settings-5060c0e82cd439d1b7a5705f1ddae560.svg">
          </div>

          <div class="UnifiedNavDropdown-link-content">
            <p class="UnifiedNavDropdown-link-contentTitle">
              Account Settings
            </p>
          </div>
        </div>
</a>    </li>

    <li class="UnifiedNavDropdown-item UnifiedNavDropdown-item--interactive">
      <a id="log-out" rel="nofollow" data-method="delete" href="https://www.digitalocean.com/community/auth">
        <div class="UnifiedNavDropdown-link UnifiedNavDropdown-link--small">
          <div class="UnifiedNavDropdown-link-icon UnifiedNavDropdown-link-icon">
            <img alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/icon-sign-out-32b13bae1e05174f39270ed59ed9a4da.svg">
          </div>

          <div class="UnifiedNavDropdown-link-content">
            <p class="UnifiedNavDropdown-link-contentTitle">
              Log Out
            </p>
          </div>
        </div>
</a>    </li>
  </ul>
</div>

        </li>
    </ul>
  </nav>
</div>


  <div class="legacy-header ">
    <div class="flash-container">
      
    </div>

    <div class="wrapper">
      
    </div>
  </div>
</header>


      

      <div class="wrapper layout-wrapper">

        









<div class="section-content section-content-growable content Tutorial-content content-has-mobile-image">
  <div class="postable-info-bar-container">
  <div class="postable-info-bar">
    <div class="author-byline">
      
    </div>

    <div class="right-section">
      


      <div class="section-item section-item-subscribe">
  <span class="opt-in-switch off">
    <span class="subscribe-label">
      <span class="icon icon-subscribe"></span>
      <span class="subscription-label subscribe">Subscribe</span>
      <span class="icon icon-subscribed"></span>
      <span class="subscription-label subscribed">Subscribed</span>
    </span>
    <a class="mini-switch-container" data-remote="true" rel="nofollow" data-method="patch" href="https://www.digitalocean.com/community/subscriptions/toggle?subscribable_id=1395&amp;subscribable_type=Tutorial"><div class="mini-switch off"><div class="switch-handle"></div></div></a>
  </span>
</div>

<div class="section-item social-sharing-item">
  <div class="sharing">
  <a class="share-button" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#" data-toggle="modal" data-target="#share-modal">
    <span class="icon icon-share-square"></span>
    <span class="share-button-text">Share</span>
  </a>
</div>

</div>

        <div class="section-item table-of-contents-triggers"><div class="toc-trigger-mobile" data-toggle="modal" data-target="#contents-modal">
  <a href="javascript:void(0);">
    <span class="icon icon-contents"></span>
    <span class="title">Contents</span>
    <span class="icon icon-arrow-down"></span>
  </a>
</div>

</div>

    </div>
  </div>
</div>


    <img alt="Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching" title="Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching" class="tutorial-image-mobile" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/NGINX_tw.png">

  <div class="container tutorial-header">
      <img alt="Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching" title="Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching" class="tutorial-image" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/NGINX_tw.png">

      <div class="info-cta">
    <a class="icon-close-light" href="javascript:void();"></a>
    We hope you find this tutorial helpful. In addition to guides like this one, we provide simple cloud infrastructure for developers. <a href="https://www.digitalocean.com/?utm_medium=community&amp;utm_source=community_gencta&amp;utm_campaign=needaserver&amp;utm_content=understanding-nginx-http-proxying-load-balancing-buffering-and-caching">
        Learn more â†’
</a>  </div>


    <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="1395" data-upvotable-type="Tutorial"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">188</span></button>

    <h1 class="content-title Tutorial-header">
      <button type="button" class="Button--reset Tutorial-headerButton " data-toggle="tooltip" title="" data-js="markAsComplete" data-tutorialinteraction="" data-tutorialsingle="" data-original-title="Mark as Complete">
        <svg class="svg-icon svg-icon-completed"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-completed"></use></svg>
      </button> Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching
    </h1>

    <span class="meta-section timestamp"><span class="tutorial-date-text">Posted</span><span class="tutorial-date">November 25, 2014</span></span>

    <span class="meta-section pageviews"><span class="icon icon-eye v-mid"></span><span class="views-count v-mid">631.4k</span><span class="sr-only"> views</span></span>

    <span class="meta-section tags">
      <a class="tag" href="https://www.digitalocean.com/community/tags/load-balancing?type=tutorials">Load Balancing</a> <a class="tag" href="https://www.digitalocean.com/community/tags/caching?type=tutorials">Caching</a> <a class="tag" href="https://www.digitalocean.com/community/tags/scaling?type=tutorials">Scaling</a> <a class="tag" href="https://www.digitalocean.com/community/tags/nginx?type=tutorials">Nginx</a> <a class="tag" href="https://www.digitalocean.com/community/tags/conceptual?type=tutorials">Conceptual</a>
      
    </span>
  </div>

  <div class="tutorial-authors">
    <div class="postable-info-bar-container">
  <ul class="postable-info-bar">
      <li class="author-byline">
        <a href="https://www.digitalocean.com/community/users/jellingwood">
            <div class="tutorial-author-avatar">
              <div class="mod-avatar mod-avatar-small"><img alt="jellingwood" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/60d901f61a6146e14a3e989bc1f4ef11" width="80" height="80"><span class="mod-star" title="" data-toggle="tooltip" data-container="body" data-original-title="MOD"><span class="mod-star-icon"></span></span></div>
            </div>

          <div class="author-and-date">
            <div class="tutorial-author">
              <div class="by">By: </div>
              Justin Ellingwood
            </div>
          </div>
</a>      </li>
  </ul>
</div>

  </div>


    <div class="content-body tutorial-content" data-growable-markdown="">
      <h3 id="introduction">Introduction</h3>

<p>In this guide, we will discuss Nginx's http proxying capabilities, which allow Nginx to pass requests off to backend http servers for further processing. Nginx is often set up as a reverse proxy solution to help scale out infrastructure or to pass requests to other servers that are not designed to handle large client loads.</p>

<p>Along the way, we will discuss how to scale out using Nginx's built-in load balancing capabilities.  We will also explore buffering and caching to improve the performance of proxying operations for clients.</p>

<div name="general-proxying-information" data-unique="general-proxying-information"></div><h2 id="general-proxying-information">General Proxying Information</h2>

<p>If you have only used web servers in the past for simple, single server configurations, you may be wondering why you would need to proxy requests.</p>

<p>One reason to proxy to other servers from Nginx is the ability to scale out your infrastructure.  Nginx is built to handle many concurrent connections at the same time.  This makes it ideal for being the point-of-contact for clients.  The server can pass requests to any number of backend servers to handle the bulk of the work, which spreads the load across your infrastructure.  This design also provides you with flexibility in easily adding backend servers or taking them down as needed for maintenance.</p>

<p>Another instance where an http proxy might be useful is when using an application servers that might not be built to handle requests directly from clients in production environments.  Many frameworks include web servers, but most of them are not as robust as servers designed for high performance like Nginx.  Putting Nginx in front of these servers can lead to a better experience for users and increased security.</p>

<p>Proxying in Nginx is accomplished by manipulating a request aimed at the Nginx server and passing it to other servers for the actual processing.  The result of the request is passed back to Nginx, which then relays the information to the client.  The other servers in this instance can be remote machines, local servers, or even other virtual servers defined within Nginx.  The servers that Nginx proxies requests to are known as <em>upstream servers</em>.</p>

<p>Nginx can proxy requests to servers that communicate using the http(s), FastCGI, SCGI, and uwsgi, or memcached protocols through separate sets of directives for each type of proxy.  In this guide, we will be focusing on the http protocol.  The Nginx instance is responsible for passing on the request and massaging any message components into a format that the upstream server can understand.</p>

<div name="deconstructing-a-basic-http-proxy-pass" data-unique="deconstructing-a-basic-http-proxy-pass"></div><h2 id="deconstructing-a-basic-http-proxy-pass">Deconstructing a Basic HTTP Proxy Pass</h2>

<p>The most straight-forward type of proxy involves handing off a request to a single server that can communicate using http.  This type of proxy is known as a generic "proxy pass" and is handled by the aptly named <code>proxy_pass</code> directive.</p>

<p>The <code>proxy_pass</code> directive is mainly found in location contexts.  It is also valid in <code>if</code> blocks within a location context and in <code>limit_except</code> contexts.  When a request matches a location with a <code>proxy_pass</code> directive inside, the request is forwarded to the URL given by the directive.</p>

<p>Let's take a look at an example:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># server context</span>

<span class="hljs-title">location</span> /match/here {
    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://example.com</span>;
}

. . .

</code></pre>
<p>In the above configuration snippet, no URI is given at the end of the server in the <code>proxy_pass</code> definition.  For definitions that fit this pattern, the URI requested by the client will be passed to the upstream server as-is.</p>

<p>For example, when a request for <code>/match/here/please</code> is handled by this block, the request URI will be sent to the <code>example.com</code> server as <code>http://example.com/match/here/please</code>.</p>

<p>Let's take a look at the alternative scenario:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># server context</span>

<span class="hljs-title">location</span> /match/here {
    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://example.com/new/prefix</span>;
}

. . .
</code></pre>
<p>In the above example, the proxy server is defined with a URI segment on the end (<code>/new/prefix</code>).  When a URI is given in the <code>proxy_pass</code> definition, the portion of the request that matches the <em>location</em> definition is replaced by this URI during the pass.</p>

<p>For example, a request for <code>/match/here/please</code> on the Nginx server will be passed to the upstream server as <code>http://example.com/new/prefix/please</code>.  The <code>/match/here</code> is replaced by <code>/new/prefix</code>.  This is an important point to keep in mind.</p>

<p>Sometimes, this kind of replacement is impossible.  In these cases, the URI at the end of the <code>proxy_pass</code> definition is ignored and either the original URI from the client or the URI as modified by other directives will be passed to the upstream server.</p>

<p>For instance, when the location is matched using regular expressions, Nginx cannot determine which part of the URI matched the expression, so it sends the original client request URI.  Another example is when a rewrite directive is used within the same location, causing the client URI to be rewritten, but still handled in the same block.  In this case, the rewritten URI will be passed.</p>

<div name="understanding-how-nginx-processes-headers" data-unique="understanding-how-nginx-processes-headers"></div><h2 id="understanding-how-nginx-processes-headers">Understanding How Nginx Processes Headers</h2>

<p>One thing that might not be immediately clear is that it is important to pass more than just the URI if you expect the upstream server handle the request properly.  The request coming from Nginx on behalf of a client will look different than a request coming directly from a client.  A big part of this is the headers that go along with the request.</p>

<p>When Nginx proxies a request, it automatically makes some adjustments to the request headers it receives from the client:</p>

<ul>
<li>Nginx gets rid of any empty headers.  There is no point of passing along empty values to another server; it would only serve to bloat the request.</li>
<li>Nginx, by default, will consider any header that contains underscores as invalid.  It will remove these from the proxied request.  If you wish to have Nginx interpret these as valid, you can set the <code>underscores_in_headers</code> directive to "on", otherwise your headers will never make it to the backend server.</li>
<li>The "Host" header is re-written to the value defined by the <code>$proxy_host</code> variable.  This will be the IP address or name and port number of the upstream, directly as defined by the <code>proxy_pass</code> directive.</li>
<li>The "Connection" header is changed to "close".  This header is used to signal information about the particular connection established between two parties.  In this instance, Nginx sets this to "close" to indicate to the upstream server that this connection will be closed once the original request is responded to.  The upstream should not expect this connection to be persistent.</li>
</ul>

<p>The first point that we can extrapolate from the above is that any header that you <em>do not</em> want passed should be set to an empty string.  Headers with empty values are completely removed from the passed request.</p>

<p>The next point to glean from the above information is that if your backend application will be processing non-standard headers, you must make sure that they <em>do not</em> have underscores.  If you need headers that use an underscore, you can set the <code>underscores_in_headers</code> directive to "on" further up in your configuration (valid either in the http context or in the context of the default server declaration for the IP address/port combination).  If you do not do this, Nginx will flag these headers as invalid and silently drop them before passing to your upstream.</p>

<p>The "Host" header is of particular importance in most proxying scenarios.  As stated above, by default, this will be set to the value of <code>$proxy_host</code>, a variable that will contain the domain name or IP address and port taken directly from the <code>proxy_pass</code> definition.  This is selected by default as it is the only address Nginx can be sure the upstream server responds to (as it is pulled directly from the connection info).</p>

<p>The most common values for the "Host" header are below:</p>

<ul>
<li><code>$proxy_host</code>: This sets the "Host" header to the domain name or IP address and port combo taken from the <code>proxy_pass</code> definition.  This is the default and "safe" from Nginx's perspective, but not usually what is needed by the proxied server to correctly handle the request.</li>
<li><code>$http_host</code>: Sets the "Host" header to the "Host" header from the client request.  The headers sent by the client are always available in Nginx as variables.  The variables will start with an <code>$http_</code> prefix, followed by the header name in lowercase, with any dashes replaced by underscores.  Although the <code>$http_host</code> variable works most of the time, when the client request does not have a valid "Host" header, this can cause the pass to fail.</li>
<li><code>$host</code>: This variable is set, in order of preference to: the host name from the request line itself, the "Host" header from the client request, or the server name matching the request.</li>
</ul>

<p>In most cases, you will want to set the "Host" header to the <code>$host</code> variable.  It is the most flexible and will usually provide the proxied servers with a "Host" header filled in as accurately as possible.</p>

<div name="setting-or-resetting-headers" data-unique="setting-or-resetting-headers"></div><h2 id="setting-or-resetting-headers">Setting or Resetting Headers</h2>

<p>To adjust or set headers for proxy connections, we can use the <code>proxy_set_header</code> directive.  For instance, to change the "Host" header as we have discussed, and add some additional headers common with proxied requests, we could use something like this:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># server context</span>

<span class="hljs-title">location</span> /match/here {
    <span class="hljs-title">proxy_set_header</span> HOST <span class="hljs-variable">$host</span>;
    <span class="hljs-title">proxy_set_header</span> X-Forwarded-Proto <span class="hljs-variable">$scheme</span>;
    <span class="hljs-title">proxy_set_header</span> X-Real-IP <span class="hljs-variable">$remote_addr</span>;
    <span class="hljs-title">proxy_set_header</span> X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;

    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://example.com/new/prefix</span>;
}

. . .
</code></pre>
<p>The above request sets the "Host" header to the <code>$host</code> variable, which should contain information about the original host being requested.  The <code>X-Forwarded-Proto</code> header gives the proxied server information about the schema of the original client request (whether it was an http or an https request).</p>

<p>The <code>X-Real-IP</code> is set to the IP address of the client so that the proxy can correctly make decisions or log based on this information.  The <code>X-Forwarded-For</code> header is a list containing the IP addresses of every server the client has been proxied through up to this point.  In the example above, we set this to the <code>$proxy_add_x_forwarded_for</code> variable.  This variable takes the value of the original <code>X-Forwarded-For</code> header retrieved from the client and adds the Nginx server's IP address to the end.</p>

<p>Of course, we could move the <code>proxy_set_header</code> directives out to the server or http context, allowing it to be referenced in more than one location:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># server context</span>

<span class="hljs-title">proxy_set_header</span> HOST <span class="hljs-variable">$host</span>;
<span class="hljs-title">proxy_set_header</span> X-Forwarded-Proto <span class="hljs-variable">$scheme</span>;
<span class="hljs-title">proxy_set_header</span> X-Real-IP <span class="hljs-variable">$remote_addr</span>;
<span class="hljs-title">proxy_set_header</span> X-Forwarded-For <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;

<span class="hljs-title">location</span> /match/here {
    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://example.com/new/prefix</span>;
}

<span class="hljs-title">location</span> /different/match {
    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://example.com</span>;
}
</code></pre>
<div name="defining-an-upstream-context-for-load-balancing-proxied-connections" data-unique="defining-an-upstream-context-for-load-balancing-proxied-connections"></div><h2 id="defining-an-upstream-context-for-load-balancing-proxied-connections">Defining an Upstream Context for Load Balancing Proxied Connections</h2>

<p>In the previous examples, we demonstrated how to do a simple http proxy to a single backend server.  Nginx allows us to easily scale this configuration out by specifying entire pools of backend servers that we can pass requests to.</p>

<p>We can do this by using the <code>upstream</code> directive to define a pool of servers.  This configuration assumes that any one of the listed servers is capable of handling a client's request.  This allows us to scale out our infrastructure with almost no effort.  The <code>upstream</code> directive must be set in the http context of your Nginx configuration.</p>

<p>Let's look at a simple example:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># http context</span>

<span class="hljs-title">upstream</span> <span class="highlight">backend_hosts</span> {
    <span class="hljs-title">server</span> host1.example.com;
    <span class="hljs-title">server</span> host2.example.com;
    <span class="hljs-title">server</span> host3.example.com;
}

<span class="hljs-title">server</span> {
    <span class="hljs-title">listen</span> <span class="hljs-number">80</span>;
    <span class="hljs-title">server_name</span> example.com;

    <span class="hljs-title">location</span> /proxy-me {
        <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://</span><span class="highlight"><span class="hljs-url">backend_hosts</span></span>;
    }
}
</code></pre>
<p>In the above example, we've set up an upstream context called <code>backend_hosts</code>.  Once defined, this name will be available for use within proxy passes as if it were a regular domain name.  As you can see, within our server block we pass any request made to <code>example.com/proxy-me/...</code> to the pool we defined above.  Within that pool, a host is selected by applying a configurable algorithm.  By default, this is just a simple round-robin selection process (each request will be routed to a different host in turn).</p>

<h3 id="changing-the-upstream-balancing-algorithm">Changing the Upstream Balancing Algorithm</h3>

<p>You can modify the balancing algorithm used by the upstream pool by including directives or flags within the upstream context:</p>

<ul>
<li><strong>(round robin)</strong>: The default load balancing algorithm that is used if no other balancing directives are present.  Each server defined in the upstream context is passed requests sequentially in turn.</li>
<li><strong><code>least_conn</code></strong>: Specifies that new connections should always be given to the backend that has the least number of active connections.  This can be especially useful in situations where connections to the backend may persist for some time.</li>
<li><strong><code>ip_hash</code></strong>: This balancing algorithm distributes requests to different servers based on the client's IP address.  The first three octets are used as a key to decide on the server to handle the request.  The result is that clients tend to be served by the same server each time, which can assist in session consistency.</li>
<li><strong><code>hash</code></strong>: This balancing algorithm is mainly used with memcached proxying.  The servers are divided based on the value of an arbitrarily provided hash key.  This can be text, variables, or a combination.  This is the only balancing method that requires the user to provide data, which is the key that should be used for the hash.</li>
</ul>

<p>When changing the balancing algorithm, the block may look something like this:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># http context</span>

<span class="hljs-title">upstream</span> <span class="highlight">backend_hosts</span> {

    least_conn;

    <span class="hljs-title">server</span> host1.example.com;
    <span class="hljs-title">server</span> host2.example.com;
    <span class="hljs-title">server</span> host3.example.com;
}

. . .

</code></pre>
<p>In the above example, the server will be selected based on which one has the least connections.  The <code>ip_hash</code> directive could be set in the same way to get a certain amount of session "stickiness".</p>

<p>As for the <code>hash</code> method, you must provide the key to hash against.  This can be whatever you wish:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># http context</span>

<span class="hljs-title">upstream</span> <span class="highlight">backend_hosts</span> {

    <span class="hljs-title">hash</span> <span class="hljs-variable">$remote_addr</span><span class="hljs-variable">$remote_port</span> consistent;

    <span class="hljs-title">server</span> host1.example.com;
    <span class="hljs-title">server</span> host2.example.com;
    <span class="hljs-title">server</span> host3.example.com;
}

. . .

</code></pre>
<p>The above example will distribute requests based on the value of the client ip address and port.  We also added the optional parameter <code>consistent</code>, which implements the ketama consistent hashing algorithm.  Basically, this means that if your upstream servers change, there will be minimal impact on your cache.</p>

<h3 id="setting-server-weight-for-balancing">Setting Server Weight for Balancing</h3>

<p>In declarations of the backend servers, by default, each servers is equally "weighted".  This assumes that each server can and should handle the same amount of load (taking into account the effects of the balancing algorithms).  However, you can also set an alternative weight to servers during the declaration:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># http context</span>

<span class="hljs-title">upstream</span> <span class="highlight">backend_hosts</span> {
    <span class="hljs-title">server</span> host1.example.com weight=<span class="hljs-number">3</span>;
    <span class="hljs-title">server</span> host2.example.com;
    <span class="hljs-title">server</span> host3.example.com;
}

. . .

</code></pre>
<p>In the above example, <code>host1.example.com</code> will receive three times the traffic as the other two servers.  By default, each server is assigned a weight of one.</p>

<div name="using-buffers-to-free-up-backend-servers" data-unique="using-buffers-to-free-up-backend-servers"></div><h2 id="using-buffers-to-free-up-backend-servers">Using Buffers to Free Up Backend Servers</h2>

<p>One issue with proxying that concerns many users is the performance impact of adding an additional server to the process.  In most cases, this can be largely mitigated by taking advantage of Nginx's buffering and caching capabilities.</p>

<p>When proxying to another server, the speed of two different connections will affect the client's experience:</p>

<ul>
<li>The connection from the client to the Nginx proxy.</li>
<li>The connection from the Nginx proxy to the backend server.</li>
</ul>

<p>Nginx has the ability to adjust its behavior based on whichever one of these connections you wish to optimize. </p>

<p>Without buffers, data is sent from the proxied server and immediately begins to be transmitted to the client.  If the clients are assumed to be fast, buffering can be turned off in order to get the data to the client as soon as possible.  With buffers, the Nginx proxy will temporarily store the backend's response and then feed this data to the client.  If the client is slow, this allows the Nginx server to close the connection to the backend sooner.  It can then handle distributing the data to the client at whatever pace is possible.</p>

<p>Nginx defaults to a buffering design since clients tend to have vastly different connection speeds.  We can adjust the buffering behavior with the following directives.  These can be set in the http, server, or location contexts.  It is important to keep in mind that the sizing directives are configured <em>per request</em>, so increasing them beyond your need can affect your performance when there are many client requests:</p>

<ul>
<li><strong><code>proxy_buffering</code></strong>: This directive controls whether buffering for this context and child contexts is enabled.  By default, this is "on".</li>
<li><strong><code>proxy_buffers</code></strong>: This directive controls the number (first argument) and size (second argument) of buffers for proxied responses.  The default is to configure 8 buffers of a size equal to one memory page (either <code>4k</code> or <code>8k</code>).  Increasing the number of buffers can allow you to buffer more information.</li>
<li><strong><code>proxy_buffer_size</code></strong>: The initial portion of the response from a backend server, which contains headers, is buffered separately from the rest of the response.  This directive sets the size of the buffer for this portion of the response.  By default, this will be the same size as <code>proxy_buffers</code>, but since this is used for header information, this can usually be set to a lower value.</li>
<li><strong><code>proxy_busy_buffers_size</code></strong>: This directive sets the maximum size of buffers that can be marked "client-ready" and thus busy.  While a client can only read the data from one buffer at a time, buffers are placed in a queue to send to the client in bunches.  This directive controls the size of the buffer space allowed to be in this state.</li>
<li><strong><code>proxy_max_temp_file_size</code></strong>: This is the maximum size, per request, for a temporary file on disk. These are created when the upstream response is too large to fit into a buffer.</li>
<li><strong><code>proxy_temp_file_write_size</code></strong>: This is the amount of data Nginx will write to the temporary file at one time when the proxied server's response is too large for the configured buffers.</li>
<li><strong><code>proxy_temp_path</code></strong>: This is the path to the area on disk where Nginx should store any temporary files when the response from the upstream server cannot fit into the configured buffers.</li>
</ul>

<p>As you can see, Nginx provides quite a few different directives to tweak the buffering behavior.  Most of the time, you will not have to worry about the majority of these, but it can be useful to adjust some of these values.  Probably the most useful to adjust are the <code>proxy_buffers</code> and <code>proxy_buffer_size</code> directives.</p>

<p>An example that increases the number of available proxy buffers for each upstream request, while trimming down the buffer that likely stores the headers would look like this:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># server context</span>

<span class="hljs-title">proxy_buffering</span> <span class="hljs-built_in">on</span>;
<span class="hljs-title">proxy_buffer_size</span> <span class="hljs-number">1k</span>;
<span class="hljs-title">proxy_buffers</span> <span class="hljs-number">24</span> <span class="hljs-number">4k</span>;
<span class="hljs-title">proxy_busy_buffers_size</span> <span class="hljs-number">8k</span>;
<span class="hljs-title">proxy_max_temp_file_size</span> <span class="hljs-number">2048m</span>;
<span class="hljs-title">proxy_temp_file_write_size</span> <span class="hljs-number">32k</span>;

<span class="hljs-title">location</span> / {
    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://example.com</span>;
}
</code></pre>
<p>In contrast, if you have fast clients that you want to immediately serve data to, you can turn buffering off completely.  Nginx will actually still use buffers if the upstream is faster than the client, but it will immediately try to flush data to the client instead of waiting for the buffer to pool.  If the client is slow, this can cause the upstream connection to remain open until the client can catch up.  When buffering is "off" only the buffer defined by the <code>proxy_buffer_size</code> directive will be used:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># server context</span>

<span class="hljs-title">proxy_buffering</span> <span class="hljs-built_in">off</span>;
<span class="hljs-title">proxy_buffer_size</span> <span class="hljs-number">4k</span>;

<span class="hljs-title">location</span> / {
    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://example.com</span>;
}
</code></pre>
<h3 id="high-availability-optional">High Availability (Optional)</h3>

<p>Nginx proxying can be made more robust by adding in a redundant set of load balancers, creating a high availability infrastructure. </p>

<p>A <em>high availability</em> (HA) setup is an infrastructure without a single point of failure, and your load balancers are a part of this configuration. By having more than one load balancer, you prevent potential downtime if your load balancer is unavailable or if you need to take them down for maintenance.</p>

<p>Here is a diagram of a basic high availability setup:</p>

<p class="growable"><img src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/ha-diagram-animated.gif" alt="HA Setup"></p>

<p>In this example, you have multiple load balancers (one active and one or more passive) behind a static IP address that can be remapped from one server to another. Client requests are routed from the static IP to the active load balancer, then on to your backend servers. To learn more, read <a href="https://www.digitalocean.com/community/tutorials/how-to-use-floating-ips-on-digitalocean#how-to-implement-an-ha-setup">this section of How To Use Floating IPs</a>.</p>

<div name="configuring-proxy-caching-to-decrease-response-times" data-unique="configuring-proxy-caching-to-decrease-response-times"></div><h2 id="configuring-proxy-caching-to-decrease-response-times">Configuring Proxy Caching to Decrease Response Times</h2>

<p>While buffering can help free up the backend server to handle more requests, Nginx also provides a way to cache content from backend servers, eliminating the need to connect to the upstream at all for many requests.</p>

<h3 id="configuring-a-proxy-cache">Configuring a Proxy Cache</h3>

<p>To set up a cache to use for proxied content, we can use the <code>proxy_cache_path</code> directive.  This will create an area where data returned from the proxied servers can be kept.  The <code>proxy_cache_path</code> directive must be set in the http context.</p>

<p>In the example below, we will configure this and some related directives to set up our caching system.</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># http context</span>

<span class="hljs-title">proxy_cache_path</span> /var/lib/nginx/cache levels=<span class="hljs-number">1</span>:<span class="hljs-number">2</span> keys_zone=backcache:<span class="hljs-number">8m</span> max_size=<span class="hljs-number">50m</span>;
<span class="hljs-title">proxy_cache_key</span> <span class="hljs-string">"<span class="hljs-variable">$scheme</span><span class="hljs-variable">$request_method</span><span class="hljs-variable">$host</span><span class="hljs-variable">$request_uri</span><span class="hljs-variable">$is_args</span><span class="hljs-variable">$args</span>"</span>;
<span class="hljs-title">proxy_cache_valid</span> <span class="hljs-number">200</span> <span class="hljs-number">302</span> <span class="hljs-number">10m</span>;
<span class="hljs-title">proxy_cache_valid</span> <span class="hljs-number">404</span> <span class="hljs-number">1m</span>;
</code></pre>
<p>With the <code>proxy_cache_path</code> directive, we have have defined a directory on the filesystem where we would like to store our cache.  In this example, we've chosen the <code>/var/lib/nginx/cache</code> directory.  If this directory does not exist, you can create it with the correct permission and ownership by typing:</p>
<pre class="code-pre "><code langs="">sudo mkdir -p /var/lib/nginx/cache
sudo chown www-data /var/lib/nginx/cache
sudo chmod 700 /var/lib/nginx/cache
</code></pre>
<p>The <code>levels=</code> parameter specifies how the cache will be organized.  Nginx will create a cache key by hashing the value of a key (configured below).  The levels we selected above dictate that a single character directory (this will be the last character of the hashed value) with a two character subdirectory (taken from the next two characters from the end of the hashed value) will be created.  You usually won't have to be concerned with the specifics of this, but it helps Nginx quickly find the relevant values.</p>

<p>The <code>keys_zone=</code> parameter defines the name for this cache zone, which we have called <code>backcache</code>.  This is also where we define how much metadata to store.  In this case, we are storing 8 MB of keys.  For each megabyte, Nginx can store around 8000 entries.  The <code>max_size</code> parameter sets the maximum size of the actual cached data.</p>

<p>Another directive we use above is <code>proxy_cache_key</code>.  This is used to set the key that will be used to store cached values.  This same key is used to check whether a request can be served from the cache.  We are setting this to a combination of the scheme (http or https), the HTTP request method, as well as the requested host and URI.</p>

<p>The <code>proxy_cache_valid</code> directive can be specified multiple times.  It allows us to configure how long to store values depending on the status code.  In our example, we store successes and redirects for 10 minutes, and expire the cache for 404 responses every minute.</p>

<p>Now, we have configured the cache zone, but we still need to tell Nginx when to use the cache.</p>

<p>In locations where we proxy to a backend, we can configure the use of this cache:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-comment"># server context</span>

<span class="hljs-title">location</span> /proxy-me {
    <span class="hljs-title">proxy_cache</span> backcache;
    <span class="hljs-title">proxy_cache_bypass</span> <span class="hljs-variable">$http_cache_control</span>;
    <span class="hljs-title">add_header</span> X-Proxy-Cache <span class="hljs-variable">$upstream_cache_status</span>;

    <span class="hljs-title">proxy_pass</span> <span class="hljs-url">http://backend</span>;
}

. . .

</code></pre>
<p>Using the <code>proxy_cache</code> directive, we can specify that the <code>backcache</code> cache zone should be used for this context.  Nginx will check here for a valid entry before passing to the backend.</p>

<p>The <code>proxy_cache_bypass</code> directive is set to the <code>$http_cache_control</code> variable.  This will contain an indicator as to whether the client is explicitly requesting a fresh, non-cached version of the resource.  Setting this directive allows Nginx to correctly handle these types of client requests.  No further configuration is required.</p>

<p>We also added an extra header called <code>X-Proxy-Cache</code>.  We set this header to the value of the <code>$upstream_cache_status</code> variable.  Basically, this sets a header that allows us to see if the request resulted in a cache hit, a cache miss, or if the cache was explicitly bypassed.  This is especially valuable for debugging, but is also useful information for the client.</p>

<h3 id="notes-about-caching-results">Notes about Caching Results</h3>

<p>Caching can improve the performance of your proxy enormously.  However, there are definitely considerations to keep in mind when configuring cache.</p>

<p>First, any user-related data should <em>not</em> be cached.  This could result in one user's data being presented to another user.  If your site is completely static, this is probably not an issue. </p>

<p>If your site has some dynamic elements, you will have to account for this in the backend servers.  How you handle this depends on what application or server is handling the backend processing.  For private content, you should set the <code>Cache-Control</code> header to "no-cache", "no-store", or "private" depending on the nature of the data:</p>

<ul>
<li><strong>no-cache</strong>: Indicates that the response shouldn't be served again without first checking that the data hasn't changed on the backend.  This can be used if the data is dynamic and important.  An ETag hashed metadata header is checked on each request and the previous value can be served if the backend returns the same hash value.</li>
<li><strong>no-store</strong>: Indicates that at no point should the data received ever be cached.  This is the safest option for private data, as it means that the data must be retrieved from the server every time.</li>
<li><strong>private</strong>: This indicates that no shared cache space should cache this data.  This can be useful for indicating that a user's browser can cache the data, but the proxy server shouldn't consider this data valid for subsequent requests.</li>
<li><strong>public</strong>: This indicates that the response is public data that can be cached at any point in the connection.</li>
</ul>

<p>A related header that can control this behavior is the <code>max-age</code> header, which indicates the number of seconds that any resource should be cached.</p>

<p>Setting these headers correctly, depending on the sensitivity of the content, will help you take advantage of cache while keeping your private data safe and your dynamic data fresh.</p>

<p>If your backend also uses Nginx, you can set some of this using the <code>expires</code> directive, which will set the <code>max-age</code> for <code>Cache-Control</code>:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-title">location</span> / {
    <span class="hljs-title">expires</span> <span class="hljs-number">60m</span>;
}

<span class="hljs-title">location</span> /check-me {
    <span class="hljs-title">expires</span> -<span class="hljs-number">1</span>;
}
</code></pre>
<p>In the above example, the first block allows content to be cached for an hour.  The second block sets the <code>Cache-Control</code> header to "no-cache".  To set other values, you can use the <code>add_header</code> directive, like this:</p>
<pre class="code-pre "><code class="code-highlight language-nginx hljs "><span class="hljs-title">location</span> /private {
    <span class="hljs-title">expires</span> -<span class="hljs-number">1</span>;
    <span class="hljs-title">add_header</span> Cache-Control <span class="hljs-string">"no-store"</span>;
}
</code></pre>
<div name="conclusion" data-unique="conclusion"></div><h2 id="conclusion">Conclusion</h2>

<p>Nginx is first and foremost a reverse proxy, which also happens to have the ability to work as a web server.  Because of this design decision, proxying requests to other servers is fairly straight forward.  Nginx is very flexible though, allowing for more complex control over your proxying configuration if desired.</p>

    </div>
</div>

<div class="tutorial-footer">
  <div class="tutorial-footer-details">

  <div class="postable-info-bar-container">
  <div class="postable-info-bar">
    <div class="author-byline">
      <div class="postable-info-bar-container">
  <ul class="postable-info-bar">
      <li class="author-byline">
        <a href="https://www.digitalocean.com/community/users/jellingwood">
            <div class="tutorial-author-avatar">
              <div class="mod-avatar mod-avatar-small"><img alt="jellingwood" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/60d901f61a6146e14a3e989bc1f4ef11" width="80" height="80"><span class="mod-star" title="" data-toggle="tooltip" data-container="body" data-original-title="MOD"><span class="mod-star-icon"></span></span></div>
            </div>

          <div class="author-and-date">
            <div class="tutorial-author">
              <div class="by">By: </div>
              Justin Ellingwood
            </div>
          </div>
</a>      </li>
  </ul>
</div>

    </div>
    <div class="right-section">
      <div class="upvote-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="false" data-upvotable-id="1395" data-upvotable-type="Tutorial"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-heart"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-heart"></use></svg></span><span class="new-upvote-text">Upvote</span><span class="new-upvote-count">188</span></button>
      </div>
      <div class="section-item section-item-subscribe">
  <span class="opt-in-switch off">
    <span class="subscribe-label">
      <span class="icon icon-subscribe"></span>
      <span class="subscription-label subscribe">Subscribe</span>
      <span class="icon icon-subscribed"></span>
      <span class="subscription-label subscribed">Subscribed</span>
    </span>
    <a class="mini-switch-container" data-remote="true" rel="nofollow" data-method="patch" href="https://www.digitalocean.com/community/subscriptions/toggle?subscribable_id=1395&amp;subscribable_type=Tutorial"><div class="mini-switch off"><div class="switch-handle"></div></div></a>
  </span>
</div>

<div class="section-item social-sharing-item">
  <div class="sharing">
  <a class="share-button" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#" data-toggle="modal" data-target="#share-modal">
    <span class="icon icon-share-square"></span>
    <span class="share-button-text">Share</span>
  </a>
</div>

</div>

    </div>
  </div>
</div>


  <div class="section-content tutorial-contributors one">


  </div>
</div>


  
  <div class="tutorial-ctas" style="background-position:bottom center; background-repeat-x:repeat; background-image: url(&#39;https://assets.digitalocean.com/labs/btp/kubernetesbg.png?2&#39;), linear-gradient(to bottom, #1e5ff4 1%,#2b3ade 100%);">
  <div class="section-content">
    <div class="cta-description">
      <h2 style="color: rgb(255, 255, 255);"></h2>

      <p style="color: rgb(255, 255, 255); padding: 15px 0px; line-height: 1.3em;"><img src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/k8shard.png" style="max-height:80px;max-width:90%;"><br><span style="font-size:20px;">DigitalOcean Kubernetes is now available. Spin up a cluster today.</span></p>

      <a class="cloud-tutorial-cta" href="https://www.digitalocean.com/products/kubernetes/?utm_source=comm_exp&amp;utm_medium=btp_customers_kubernetes_hard" style="background:#FFF;color:#0069FF;">Get Started</a>
    </div>
  </div>
</div>
    <div class="related-tutorials">
    <div class="section-content">
      <h2>Related Tutorials</h2>

      <ul>
        <li><a class="related-link" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-memcached-on-ubuntu-18-04">How To Install and Secure Memcached on Ubuntu 18.04</a></li>
<li><a class="related-link" href="https://www.digitalocean.com/community/tutorials/securing-communications-three-tier-rails-application-using-ssh-tunnels">Securing Communications in a Three-tier Rails Application Using SSH Tunnels</a></li>
<li><a class="related-link" href="https://www.digitalocean.com/community/tutorials/how-to-use-let-s-encrypt-with-digitalocean-load-balancers">How to Use Let's Encrypt with DigitalOcean Load Balancers</a></li>
<li><a class="related-link" href="https://www.digitalocean.com/community/tutorials/best-practices-for-performance-on-digitalocean-load-balancers">Best Practices for Performance on DigitalOcean Load Balancers</a></li>
<li><a class="related-link" href="https://www.digitalocean.com/community/tutorials/solution-deep-dive-building-a-highly-available-web-application-with-web-processing-and-storing-capabilities-using-mongodb-and-elk-stack">Solution Deep Dive: Building a Highly Available Web Application with Web Processing and Stor...</a></li>

      </ul>
    </div>
  </div>

</div>

<div class="content-comments">
  <div class="section-content">
    <div class="tutorial commentable" id="tutorial_1395">

  <div class="comments-header">
    <h4 class="comments-count"><span>40 Comments</span></h4>
  </div>

  <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content tutorial-comment-field meltdown_editor" data-markdown="true" style="overflow: hidden; overflow-wrap: break-word; resize: none; height: 120px;"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>


  <div class="comments">
    <ul class="response-list">
          <a class="hidden" rel="nofollow" data-remote="true" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching/comments">Load</a>
    <li id="comment_23302" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="23302" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">7</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/chrishaas">chrishaas</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=23302">November 26, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Very, very, very well written and thorough!</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_23302">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_23302" data-url="/community/comments/23302/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_23302">

    <div id="form_comment_23302" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/23302/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_23302"></div>
</div>
    </div>

  </li>

    
      <li id="comment_23681" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="23681" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/ivanmaglica">IvanMaglica</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=23681">December  3, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Little correction: "key<em>zone" must be corrected to "keys</em>zone". Nginx does not very much information in errors.log</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_23681">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_23681" data-url="/community/comments/23681/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_23681">

    <div id="form_comment_23681" class="hidden">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/23681/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_23682" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="23682" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/ivanmaglica">IvanMaglica</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=23682">December  3, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>with underscores between keys and zone</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_23682">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_23682" data-url="/community/comments/23682/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_23682">

    <div id="form_comment_23682" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/23682/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_23682"></div>
</div>
    </div>

  </li>

      <li id="comment_23683" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="23683" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=23683">December  3, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Ah, nice catch.  I've updated the article.  Thanks <a href="https://www.digitalocean.com/community/users/ivanmaglica" class="username-tag">@IvanMaglica</a>!</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_23683">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_23683" data-url="/community/comments/23683/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_23683">

    <div id="form_comment_23683" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/23683/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_23683"></div>
</div>
    </div>

  </li>



    </ul>
  </div>

    <div class="content-actions second-reply">
      <a class="reply" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#secondary_form_comment_23681">
        Add Comment
        <span class="icon-arrow-right"></span>
</a>    </div>

    <div id="secondary_form_comment_23681" class="hidden secondary-comment-form">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/23681/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div id="reply_anchor_comment_23681"></div>
</div>
    </div>

  </li>

      <li id="comment_24669" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="24669" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jonathanwexler">jonathanwexler</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=24669">December 21, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Hi Justin - really great tutorial.</p>

<p>Actually, what I am specifically trying to get running well is <em>NGINX server blocks using Docker containers</em> - with NGINX as both the host reverse proxy, and the web server inside the Docker containers - which are in turn all running Wordpress.</p>

<p>It would be great for me - and I suspect a lot of Digital Ocean users - if you could write such a tutorial - so basically <em>we could run many Wordpress Docker containers inside a single Droplet</em>.</p>

<p>If this can add some good luck - my best friend is also a technical writer named Justin - though he is from Montreal. Thanks profusely.</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_24669">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_24669" data-url="/community/comments/24669/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_24669">

    <div id="form_comment_24669" class="hidden">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/24669/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_24736" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="24736" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">1</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=24736">December 22, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/jonathanwexler" class="username-tag">@jonathanwexler</a>:  Although we don't have a guide for that configuration specifically, we do have one that covers <a href="https://www.digitalocean.com/community/tutorials/docker-explained-how-to-containerize-and-use-nginx-as-a-proxy" rel="nofollow">how to use Nginx as a containerized reverse proxy</a>.</p>

<p>Take a look through that guide and let us know what parts of the setup you want to try still need explanation.  That would help us try to narrow the scope for a potential article.</p>
</div>
            <div class="snippet"><img class="snippet-image" alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/default_community_sharing-65c1cc547375d6e37cc45195b3686769.png"><div class="snippet-content"><div class="snippet-title"><a href="https://www.digitalocean.com/community/tutorials/docker-explained-how-to-containerize-and-use-nginx-as-a-proxy">Docker Explained: How To Containerize and Use Nginx as a Proxy</a></div><div class="snippet-author">by O.S Tezer</div><div class="snippet-description">In this DigitalOcean article, our goal is to learn about creating a docker container from a base image and building it to run Nginx (layer by layer). Later, following the steps from the beginning, we create a Dockerfile to automate the process using a custom input file for configurations. In the end, using this Nginx docker image, it becomes possible to create self-contained sandboxes running Nginx, which can be used to serve "dockerised" applications.</div></div></div>
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_24736">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_24736" data-url="/community/comments/24736/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_24736">

    <div id="form_comment_24736" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/24736/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_24736"></div>
</div>
    </div>

  </li>

      <li id="comment_24783" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="24783" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jonathanwexler">jonathanwexler</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=24783">December 22, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Thanks <a href="https://www.digitalocean.com/community/users/jellingwood" class="username-tag">@jellingwood</a> â€”  I am working on notes to send you (I too am a technical writer!) - can you tell me where it is best to post them?</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_24783">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_24783" data-url="/community/comments/24783/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_24783">

    <div id="form_comment_24783" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/24783/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_24783"></div>
</div>
    </div>

  </li>

      <li id="comment_24822" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="24822" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=24822">December 23, 2014</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/jonathanwexler" class="username-tag">@jonathanwexler</a>: Oh, that's awesome! We have a page for suggestions <a href="https://www.digitalocean.com/community/tutorials/digitalocean-community-article-suggestions-and-ideas" rel="nofollow">here</a>.  We have a bit of a backlog at the moment, but that's the best way to get your idea onto our list of topics to cover.</p>

<p>Thanks again for the suggestions!</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_24822">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_24822" data-url="/community/comments/24822/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_24822">

    <div id="form_comment_24822" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/24822/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_24822"></div>
</div>
    </div>

  </li>

      <li id="comment_25815" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="25815" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jonathanwexler">jonathanwexler</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=25815">January 11, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>FYI  <a href="https://www.digitalocean.com/community/users/jellingwood" class="username-tag">@jellingwood</a> I sort of figured this all out myself.</p>

<p>I will try to compose an article on wordpress-docker containers-and DNS soon.</p>

<p>I am figuring out the last kinks, then would love to share it with the DigitalOcean community :)</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_25815">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_25815" data-url="/community/comments/25815/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_25815">

    <div id="form_comment_25815" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/25815/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_25815"></div>
</div>
    </div>

  </li>

      <li id="comment_25820" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="25820" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=25820">January 11, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/jonathanwexler" class="username-tag">@jonathanwexler</a>: Awesome! I'm glad you got that sorted. A+! </p>

<p>If you plan on having it on DigitalOcean, make sure you go through the proper channels <em>before</em> you begin writing.</p>

<p><a href="https://www.digitalocean.com/community/get-paid-to-write" rel="nofollow">This</a> page will explain more of the details. Thanks again for the heads up and good luck! </p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_25820">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_25820" data-url="/community/comments/25820/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_25820">

    <div id="form_comment_25820" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/25820/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_25820"></div>
</div>
    </div>

  </li>



    </ul>
  </div>

    <div class="content-actions second-reply">
      <a class="reply" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#secondary_form_comment_24669">
        Add Comment
        <span class="icon-arrow-right"></span>
</a>    </div>

    <div id="secondary_form_comment_24669" class="hidden secondary-comment-form">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/24669/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div id="reply_anchor_comment_24669"></div>
</div>
    </div>

  </li>

      <li id="comment_25813" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="25813" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/nadavkav">nadavkav</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=25813">January 11, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Thank you! illuminating and easy to read :-)</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_25813">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_25813" data-url="/community/comments/25813/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_25813">

    <div id="form_comment_25813" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/25813/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

    


    </ul>
  </div>


  <div id="reply_anchor_comment_25813"></div>
</div>
    </div>

  </li>

      <li id="comment_26728" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="26728" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jcyrss">jcyrss</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=26728">January 27, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Very good article, Justin. Thank you, that's what I've been looking for.</p>

<p>And I have another question about buffering. </p>

<p>Does Nginx also buffer http request from client? I mean, if Nginx get a http request from client, does it create connection with upstream server immediatly? Or it will create connection after it get a whole http request?</p>

<p>You know, many application server frameworks use worker-thread-pool model. If the client machine is far from Nginx and upstream server, without buffering http request in Nginx side, upstream server will waste pretty much CPU resource on waiting for completing a http request.</p>

<p>Thanks.</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_26728">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_26728" data-url="/community/comments/26728/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_26728">

    <div id="form_comment_26728" class="hidden">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/26728/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_26864" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="26864" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=26864">January 28, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/jcyrss" class="username-tag">@jcyrss</a>: Nginx will buffer the data until the entire POST is received.</p>

<p>It keeps this data in a buffer (in RAM), which can be configured through the <code>client_body_buffer_size</code> directive.  If the client request exceeds the value of this directive, it will be written to a temporary file until the entire file is received.  Afterwards, it will relay the entire request to the upstream server.</p>

<p>I hope that helps.</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_26864">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_26864" data-url="/community/comments/26864/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_26864">

    <div id="form_comment_26864" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/26864/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_26864"></div>
</div>
    </div>

  </li>



    </ul>
  </div>

    <div class="content-actions second-reply">
      <a class="reply" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#secondary_form_comment_26728">
        Add Comment
        <span class="icon-arrow-right"></span>
</a>    </div>

    <div id="secondary_form_comment_26728" class="hidden secondary-comment-form">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/26728/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div id="reply_anchor_comment_26728"></div>
</div>
    </div>

  </li>

      <li id="comment_29017" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="29017" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/pravinlogicap">pravinlogicap</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=29017">March  4, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Awesome, It's very useful for me to use with NODE.JS also for the new learner, Fantastic :)</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_29017">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_29017" data-url="/community/comments/29017/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_29017">

    <div id="form_comment_29017" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/29017/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_29017"></div>
</div>
    </div>

  </li>

      <li id="comment_30247" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="30247" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/myemailum14">myemailum14</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=30247">March 26, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Hi, i've been trying to find this for hours. How do i get the server name chosen in upstream group at request. Thanks. $upstream_addr returns ip address</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_30247">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_30247" data-url="/community/comments/30247/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_30247">

    <div id="form_comment_30247" class="hidden">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30247/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_30248" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="30248" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=30248">March 26, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/myemailum14" class="username-tag">@myemailum14</a>: I'm not sure if I'm parsing your question correctly, but I think you may be looking for some of the variables available with the <code>upstream</code> module <a href="http://nginx.org/en/docs/http/ngx_http_upstream_module.html#variables" rel="nofollow">here</a>.  If not, can you give some more detail about exact information you are looking for?</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_30248">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_30248" data-url="/community/comments/30248/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_30248">

    <div id="form_comment_30248" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30248/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_30248"></div>
</div>
    </div>

  </li>



    </ul>
  </div>

    <div class="content-actions second-reply">
      <a class="reply" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#secondary_form_comment_30247">
        Add Comment
        <span class="icon-arrow-right"></span>
</a>    </div>

    <div id="secondary_form_comment_30247" class="hidden secondary-comment-form">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30247/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div id="reply_anchor_comment_30247"></div>
</div>
    </div>

  </li>

      <li id="comment_30249" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="30249" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/myemailum14">myemailum14</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=30249">March 26, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/jellingwood" class="username-tag">@jellingwood</a>  hi this is what i want to do</p>

<p>say i have<br><br>
upstream myapp1 {<br>
        server <a href="http://www.abc.com/" rel="nofollow">www.abc.com:80</a>;<br>
        server <a href="http://www.asd.com/" rel="nofollow">www.asd.com:80</a>;<br>
}</p>
<pre class="code-pre "><code langs="">server {
    listen 80;
    location / {
        proxy_set_header Host            XXxXXX;  //this
</code></pre>
<p>..<br>
}</p>

<p>i want to set XXxxXXX as <a href="http://www.abc.com/" rel="nofollow">www.abc.com</a> or <a href="http://www.asd.com/" rel="nofollow">www.asd.com</a> based on whatever upstream server is chosen. I've been trying using conditonals, map, etc. But i'm new so im not getting anywhere.</p>

<p>the var upstreamd_addr gives ip not the domain name.</p>

<p>thanks for helping me out..</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_30249">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_30249" data-url="/community/comments/30249/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_30249">

    <div id="form_comment_30249" class="hidden">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30249/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_30252" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="30252" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=30252">March 26, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/myemailum14" class="username-tag">@myemailum14</a>:  I'm having trouble thinking of a situation where you'd want to be doing domain-sensitive things during the load balancing process.  Typically, if you have separate domains, you don't want to be using an <code>upstream</code> block to pass traffic between them.  Instead, you'd want to set up a separate <code>server</code> block for each domain name and leave out the <code>upstream</code> block.</p>

<p>Basically, the issue that you're having is that <code>proxy_set_header</code> sets a header to pass to the upstream server <em>before</em> the upstream server is selected.  So you're not going to be able to modify the <code>Host</code> header based on the chosen upstream server because one hasn't been selected yet.</p>

<p>At least from what you've described, it sounds like you'd be better off with something simple like this:</p>
<pre class="code-pre "><code langs="">server {
    listen 80;
    server_name www.abc.com abc.com;

    . . .

}

server {
    listen 80;
    server_name www.asd.com asd.com;

    . . .

}
</code></pre>
<p>This allows you to serve two different sites with distinct content (or with the same content, if that's desired).</p>

<p>The <code>upstream</code> directive is more useful if 1) you have one domain name where all of your content will be requested and 2) you have multiple backend servers that each serve the same content, in order to spread out the load.</p>

<p>Hopefully I haven't misunderstood the problem.</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_30252">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_30252" data-url="/community/comments/30252/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_30252">

    <div id="form_comment_30252" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30252/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_30252"></div>
</div>
    </div>

  </li>



    </ul>
  </div>

    <div class="content-actions second-reply">
      <a class="reply" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#secondary_form_comment_30249">
        Add Comment
        <span class="icon-arrow-right"></span>
</a>    </div>

    <div id="secondary_form_comment_30249" class="hidden secondary-comment-form">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30249/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div id="reply_anchor_comment_30249"></div>
</div>
    </div>

  </li>

      <li id="comment_30256" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="30256" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/myemailum14">myemailum14</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=30256">March 27, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>if server hasn't been selected then how come i can get $upstream<em>addr right. I just wish i could get $upstream</em>url or something. </p>

<p>What i want to do is do load balancing AND use different sites. It's weird. But that's what i'm trying to do.</p>

<p>for reasons beyond my control however both asd.com and abc.com only respond if host header has their url in them. </p>

<p>therefore using map, conditional, variable, directive, default or whatever goes. I'm trying to set host header to the same domain. I can get upstream addr but not upstream url. </p>

<p>is there a way to program conditions in here or define default headers for each upstream. </p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_30256">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_30256" data-url="/community/comments/30256/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_30256">

    <div id="form_comment_30256" class="hidden">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30256/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_30275" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="30275" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jellingwood">jellingwood</a></span>
          <span class="mod-badge">MOD</span>
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=30275">March 27, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/myemailum14" class="username-tag">@myemailum14</a>: I think <a href="http://mailman.nginx.org/pipermail/nginx/2011-June/027617.html" rel="nofollow">this link</a> is your best bet at getting something like that working.  I don't really have any ideas that go beyond that.  Maxim Dounin is an Nginx contributor and is incredibly knowledgeable about Nginx, so I would follow his advice closely.</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_30275">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_30275" data-url="/community/comments/30275/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_30275">

    <div id="form_comment_30275" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30275/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_30275"></div>
</div>
    </div>

  </li>



    </ul>
  </div>

    <div class="content-actions second-reply">
      <a class="reply" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#secondary_form_comment_30256">
        Add Comment
        <span class="icon-arrow-right"></span>
</a>    </div>

    <div id="secondary_form_comment_30256" class="hidden secondary-comment-form">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/30256/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div id="reply_anchor_comment_30256"></div>
</div>
    </div>

  </li>

      <li id="comment_31778" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="31778" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/jptoinf">jptoinf</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=31778">April 30, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Is nginx free to use? And can we drop other caching like redis or varnish relying on nginx caching? And which is better Apache or nginx for handling high load?</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_31778">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_31778" data-url="/community/comments/31778/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_31778">

    <div id="form_comment_31778" class="hidden">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/31778/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_34398" data-level="1" class="comment-container">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="34398" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/newhosting2015">newhosting2015</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=34398">June 30, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><em>Is nginx free to use?</em> ... Yes, it's a free open source web server. <br>
<em>And can we drop other caching like redis or varnish relying on nginx caching?</em> Yes. Have a read of this tutorial for fastcgi caching. <a href="https://www.digitalocean.com/community/tutorials/how-to-setup-fastcgi-caching-with-nginx-on-your-vps" rel="nofollow">https://www.digitalocean.com/community/tutorials/how-to-setup-fastcgi-caching-with-nginx-on-your-vps</a><br>
<em>And which is better Apache or nginx for handling high load?</em> It's a largely debated matter of opinion and of course depends on the multitude of configurations, but IMO Nginx rules the roost! Hope that helps and good luck.</p>
</div>
            <div class="snippet"><img class="snippet-image" alt="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/default_community_sharing-65c1cc547375d6e37cc45195b3686769.png"><div class="snippet-content"><div class="snippet-title"><a href="https://www.digitalocean.com/community/tutorials/how-to-setup-fastcgi-caching-with-nginx-on-your-vps">How to Setup FastCGI Caching with Nginx on your VPS</a></div><div class="snippet-author">by Jesin A</div><div class="snippet-description">Here's how to setup FastCGI caching with Nginx on your VPS.</div></div></div>
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_34398">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_34398" data-url="/community/comments/34398/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_34398">

    <div id="form_comment_34398" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/34398/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_34398"></div>
</div>
    </div>

  </li>



    </ul>
  </div>

    <div class="content-actions second-reply">
      <a class="reply" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#secondary_form_comment_31778">
        Add Comment
        <span class="icon-arrow-right"></span>
</a>    </div>

    <div id="secondary_form_comment_31778" class="hidden secondary-comment-form">
      <div class="response response-form">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/31778/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div id="reply_anchor_comment_31778"></div>
</div>
    </div>

  </li>

    
      <li id="comment_33533" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="33533" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/hoangdoan">hoangdoan</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=33533">June 10, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Thanks for your great article!</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_33533">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_33533" data-url="/community/comments/33533/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_33533">

    <div id="form_comment_33533" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/33533/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_33533"></div>
</div>
    </div>

  </li>

    
      <li id="comment_34666" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="34666" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/rhaynel">rhaynel</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=34666">July  6, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Thank for the article, really help me!</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_34666">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_34666" data-url="/community/comments/34666/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_34666">

    <div id="form_comment_34666" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/34666/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_34666"></div>
</div>
    </div>

  </li>

      <li id="comment_34832" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="34832" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/adamachibo">adamachibo</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=34832">July  9, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>so sorry. I wanted to ask. whether this digitalocean service could breach the restriction speed my internet data plan after my internet data plan exceeded limit.?</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_34832">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_34832" data-url="/community/comments/34832/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_34832">

    <div id="form_comment_34832" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/34832/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_34832"></div>
</div>
    </div>

  </li>

      <li id="comment_36070" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="36070" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/simerng">simerng</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=36070">August  8, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p><a href="https://www.digitalocean.com/community/users/jellingwood" class="username-tag">@jellingwood</a> this is an awesome very well written article, probably the best available resource. </p>

<ol>
<li><p>U mention nginx caching can replace redis caching. But since we shouldn't cache user data, wouldn't it be more beneficial to cache database results with redis and the sort as opposed to caching full url responses?</p></li>
<li><p>Can we define cache control in global/http context and then specify within location context a different value as an override?</p></li>
<li><p>How do the values specified in the proxy<em>cache</em>valid section affect the cache control directive?</p></li>
<li><p>Does the cache control header directive apply to just the server, or does the browser use this information for its own caching decisions?</p></li>
</ol>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_36070">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_36070" data-url="/community/comments/36070/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_36070">

    <div id="form_comment_36070" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/36070/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_36070"></div>
</div>
    </div>

  </li>

      <li id="comment_36339" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="36339" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/moefar">moefar</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=36339">August 15, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Well done!</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_36339">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_36339" data-url="/community/comments/36339/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_36339">

    <div id="form_comment_36339" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/36339/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_36339"></div>
</div>
    </div>

  </li>

      <li id="comment_36737" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="36737" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/mgvarley">mgvarley</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=36737">August 25, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Thanks for the excellent article.  I am building a SaaS offering and will have different types of client - some dedicated and some multi-tenant.  I am considering using NGINX as an API Gateway and would like to isolate my dedicated clients on different servers / containers to my multi-tenant customers.  Does NGINX allow you to route to different servers by API key?</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_36737">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_36737" data-url="/community/comments/36737/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_36737">

    <div id="form_comment_36737" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/36737/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_36737"></div>
</div>
    </div>

  </li>

      <li id="comment_37482" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="37482" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty"><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/kevinyu">KevinYu</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching?comment=37482">September 16, 2015</a></span>

          
        </div>

          <div class="response-body content-body">
            <div class=""><p>Great tutorial.<br>
I really appreciate it!</p>
</div>
            
          </div>

        

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions">
  <div class="comment-actions">
      <a class="reply comment-action" data-reveal="fast" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#form_comment_37482">Reply</a>

    <a class="comment-action flag unflagged" id="flag_comment_37482" data-url="/community/comments/37482/flag" data-toggle="modal" data-target="#flag-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      







    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments">
      <div class="response_comment commentable comment" id="response_comment_37482">

    <div id="form_comment_37482" class="hidden">
      <div class="response response-form no-comments">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form " id="new_comment" action="https://www.digitalocean.com/community/comments/37482/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="âœ“">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content comment-comment-field meltdown_editor" data-markdown="true"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="response-user-details">
        <div class="response-avatar">
          <img alt="sarpixo" class="avatar avatar-small" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/080ece3e9b73bed4173668664c51de4f" width="80" height="80">
        </div>

        <div class="logged-in">
          <div class="logged-in-as">Logged in as:</div>
          <a class="username username-owner" href="https://www.digitalocean.com/community/users/sarpixo">sarpixo</a>
        </div>
      </div>

      <button type="submit" class="submit-comment" data-disable-with="Submitting...">
        Comment
      </button>


        <div class="subscribe-to-post">
          <input type="checkbox" name="comment[subscribe]" id="comment_subscribe" checked="checked">
          <label for="comment_subscribe">Notify me of replies to my comment</label>
        </div>

      <button type="submit" class="submit-comment submit-comment-mobile" data-disable-with="Submitting...">
        Comment
      </button>

    <div class="clearfix"></div>
</form>
</div>

    </div>

  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_37482"></div>
</div>
    </div>

  </li></ul><div class="comment-pagination"><span class="previous_page disabled">Previous</span> <em class="current">1</em> <a rel="next nofollow" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching/comments?page=2">2</a> <a class="next_page" rel="next nofollow" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching/comments?page=2">Next</a></div>

      <div class="comments-spinner" style="display: none;"><div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>
</div>
  </div>

  <div class="load-more-container"><a class="load-more" href="javascript:void(0);"><span class="load-more-text">Load More Comments</span><div class="comments-spinner" style="display: none;"><div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>
</div></a></div>
</div>


  </div>
</div>

<div class="creative-commons">
  <a class="creative-commons-image" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img rel="license" alt="Creative Commons License" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/creativecommons-08b32a9279fcd47fcd78ac6a26331389.png"></a>
    <div class="license-text">This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</div>
</div>

  <ul class="moderation-actions fixed tutorial-moderation inline">
    







  </ul>




        <div class="clearfix"></div>
      </div>


      <footer class="Footer">
  <span class="Footer-logo icon-sammy"></span>

  <div>Copyright Â© 2019 DigitalOceanâ„¢ Inc.</div>

  <ul class="Footer-nav">
    <li><a href="https://www.digitalocean.com/community">Community</a></li>
    <li><a href="https://www.digitalocean.com/community/tutorials">Tutorials</a></li>
    <li><a href="https://www.digitalocean.com/community/questions">Questions</a></li>
    <li><a href="https://www.digitalocean.com/community/projects">Projects</a></li>
    <li><a href="https://www.digitalocean.com/community/tags">Tags</a></li>
    <li><a href="https://www.digitalocean.com/community/newsletter">Newsletter</a></li>
    <li>
      <a href="https://www.digitalocean.com/community/tutorials/feed">
        RSS <span class="icon-rss"></span>
</a>    </li>
  </ul>

  <br>

  <ul class="Footer-nav Footer-nav--secondary">
    <li><a href="https://www.digitalocean.com/products/one-click-apps/">Distros &amp; One-Click Apps</a></li>
    <li><a href="https://www.digitalocean.com/legal/terms/">Terms, Privacy, &amp; Copyright</a></li>
    <li><a href="https://www.digitalocean.com/security/">Security</a></li>
      <li><a data-toggle="modal" data-target="#report-a-bug-modal" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#">Report a Bug</a></li>
    <li><a href="https://www.digitalocean.com/write-for-donations">Write for DOnations</a></li>
    <li><a href="http://store.digitalocean.com/">Shop</a></li>
  </ul>
</footer>





      

        <div id="profiles-modal" class="modal new-modal fade" style="display: none;">
  <div class="new-modal-dialog modal-dialog">
    <div class="new-modal-content">
      <div class="new-modal-header">
        <button type="button" class="new-close-button mini-close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>

        <img class="new-profile-modal-image" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/newprofilemodal-bc6cf7fa69d3ac765d7dcfa63d37492e.svg" alt="Newprofilemodal">

        <div class="new-modal-heading">
          Introducing your new profile
        </div>

        <div class="new-modal-body">
          <p class="new-modal-message">Get to know your fellow Community members better with profiles. Share your interests and skills with others, and get a birdâ€™s eye view of all of your Community activity.</p>

          <a class="edit-profile-modal-button modal-button button blue-button confirm-button" href="https://www.digitalocean.com/community/users/sarpixo?isEditing=true">Add Info</a>
        </div>
      </div>
    </div>
  </div>
</div>

        <div id="research-signup-modal" class="modal new-modal fade" style="display: none;">
  <div class="new-modal-dialog modal-dialog">
    <div class="new-modal-content">
      <div class="new-modal-header">
        <button type="button" class="new-close-button mini-close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
        <div class="new-modal-heading">We're excited to work with you!</div>
        <div class="new-modal-subheading">Fill out the form below and weâ€™ll reach out when we have surveys, usability testing, or other research opportunities for you to participate in.</div>
      </div>

      <div class="new-modal-body">
        <div class="research-signup-form">
          <div class="FormGroup">
            <div class="FormHeader">
              <label class="FormLabel FormLabel--inline" for="research-name">Name</label>
              <span class="FormError FormError-research-name FormError--hidden"></span>
            </div>
            <input name="research-name" id="research-name" class="FormInput FormInput-text FormInput-research-name" type="text">
          </div>

          <div class="FormGroup">
            <div class="FormHeader">
              <label class="FormLabel FormLabel--inline" for="research-email">Email</label>
              <span class="FormError FormError-research-email FormError--hidden"></span>
            </div>

            <input name="research-email" id="research-email" class="FormInput FormInput-text FormInput-research-email" type="email" value="sarpixo@gmail.com">
          </div>

          <div class="FormGroup">
            <div class="FormHeader">
              <label for="research-message" class="FormLabel">If you could improve one thing in the DigitalOcean Community experience right now, what would it be?</label>
              <span class="FormError FormError--block FormError-research-message FormError--hidden"></span>
            </div>
            <textarea name="research-message" id="research-message" class="FormInput FormInput-research-message" style="overflow: hidden; overflow-wrap: break-word; resize: none; height: 64px;"></textarea>
          </div>
        </div>

        <button type="button" class="research-signup-button modal-button button blue-button confirm-button">Sign me up</button>
      </div>
    </div>
  </div>
</div>

        <div id="research-signup-thanks-modal" class="modal new-modal fade" style="display: none;">
  <div class="new-modal-dialog modal-dialog">
    <div class="new-modal-content">
      <div class="new-modal-header">
        <button type="button" class="new-close-button mini-close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>

      <div class="new-modal-body">
        <img class="thanks-modal-image" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/community-modal-db8c83d2bdf466138dd48a66cde55135.svg" alt="Community modal"> 

        <div class="new-modal-heading text-center">We'll be in touch!</div>
        <div class="new-modal-subheading text-center">Youâ€™re now on our radar. Sit back and enjoy Community tutorials and Q&amp;A while we put together our next research efforts.</div>
        <button type="button" data-dismiss="modal" class="thanks-got-it-button modal-button button blue-button confirm-button">Got it</button>
      </div>
    </div>
  </div>
</div>


    
  <script>
    $(function() {
      if (!!window.init_sharing) {
        window.init_sharing();
      }
      new window.NewsletterSignup();
      new window.GrowableMarkdown({ target: '[data-growable-markdown]' });

      window.Bugsnag.beforeNotify = function(payload, metaData) {
        // custom logic to determine groupingHash
        metaData.groupingHash = "tutorialShow";
      }
    });
  </script>
  <script type="application/ld+json">
    {"@context":"http://schema.org","@type":"Article","name":"Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching","headline":"Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching","alternativeHeadline":"Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching","description":"Nginx is a high performance reverse proxy server and web server.  In this guide, we will explore Nginx's http proxying and load balancing capabilities.  We will cover how Nginx can use buffers and caching to improve the proxying experience for clients.","keywords":"Load Balancing,Caching,Scaling,Nginx,Conceptual","url":"https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching"},"dateModified":"2018-01-08T15:54:24Z","inLanguage":"en","accessMode":"textual","accessModeSufficient":"textual","isAccessibleForFree":true,"license":"https://creativecommons.org/licenses/by-nc-sa/4.0/","publishingPrinciples":"https://www.digitalocean.com/community/tutorials/technical-recommendations-and-best-practices-for-digitalocean-s-tutorials","author":[{"@type":"Person","name":"Justin Ellingwood","@id":"https://www.digitalocean.com/community/users/jellingwood"}],"datePublished":"2014-11-25T22:19:36Z","image":{"@type":"ImageObject","url":"https://community-cdn-digitalocean-com.global.ssl.fastly.net/assets/tutorials/images/large/NGINX_tw.png?1426699777","height":375,"width":750},"interactionStatistic":[{"@type":"InteractionCounter","interactionType":"http://schema.org/LikeAction","userInteractionCount":"188"},{"@type":"InteractionCounter","interactionType":"http://schema.org/CommentAction","userInteractionCount":"29"}],"sourceOrganization":{"@type":"Organization","name":"DigitalOcean Community","url":"https://www.digitalocean.com/community"},"publisher":{"@type":"Organization","name":"DigitalOcean","url":"https://www.digitalocean.com","logo":{"@type":"ImageObject","url":"https://assets.digitalocean.com/logos/DO_Logo_horizontal_blue.png","width":351,"height":60}}}
  </script>
  <script>
    $(function() {
      setTimeout(function(){
        $.getJSON(
          'https://assets.digitalocean.com/labs/btp.json',
          function(data) {
            new BelowTutorialPanel(data);
          }
        );
      }, 2000);
    });
  </script>

  <div id="report-a-bug-modal" class="modal fade mini-modal" style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1>Report a Bug</h1>
          <a class="close-button" data-dismiss="modal" aria-label="close" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching"><span class="icon icon-close-light"></span></a>
        </div>
        <div class="modal-body">
          <div class="report-a-bug-message text-center">Use this form to report bugs related to the Community</div>
          <div class="report-a-bug-actions do-form">
            <div class="form-wrap">
              <form class="new_bug_report" id="new_bug_report" action="https://www.digitalocean.com/community/bug_reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="âœ“"><input type="hidden" name="authenticity_token" value="0kJrdaMoSad+tO5BVPD5U8c8O4QGZm6VDBjwfxgLAIgTARqv8LmE+WjehhkFNnoJxmVTkZ9Pg8us+TQpcrvXbA==">
                <fieldset name="report-a-bug-info">
                <legend class="sr-only">Report a bug:</legend>
                  <div class="field">
                    <label for="bug_reporter_name" class="sr-only">Name</label>
                    <input placeholder="Name" id="bug_reporter_name" type="text" value="sarpixo" name="bug_report[name]">
                  </div>
                  <div class="field">
                    <label for="bug_reporter_email" class="sr-only">Email</label>
                    <input name="Email" placeholder="Email" id="bug_reporter_email" required="required" type="text" value="sarpixo@gmail.com">
                  </div>
                  <div class="field">
                    <label for="bug_reporter_message" class="sr-only">Message</label>
                    <textarea name="Message" placeholder="Message" id="bug_reporter_message" required="required" style="overflow: hidden; overflow-wrap: break-word; resize: none; height: 125px;"></textarea>
                  </div>

                  <div class="field actions">
                    <input type="submit" name="commit" value="Submit" class="button">
                  </div>
                </fieldset>
</form>            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


    
  

<textarea tabindex="-1" aria-hidden="true" ,="" style="position: absolute; top: -999px; left: 0px; right: auto; bottom: auto; border: 0px; padding: 0px; box-sizing: content-box; overflow-wrap: break-word; overflow: hidden; transition: none 0s ease 0s; height: 0px !important; min-height: 0px !important; font-family: proxima-nova, sans-serif; font-size: 17px; font-weight: 400; font-style: normal; letter-spacing: 0px; text-transform: none; word-spacing: 0px; text-indent: 0px; line-height: normal; width: 58px;" class="autosizejs" id="autosizejs"></textarea><a id="scrollUp" href="https://www.digitalocean.com/community/tutorials/understanding-nginx-http-proxying-load-balancing-buffering-and-caching#top" style="position: fixed; z-index: 1000; display: none;">Scroll to top</a><div id="scrollUp-active" style="position: absolute; top: 300px; width: 100%; border-top: 1px dotted rgb(0, 255, 255); z-index: 1000;"></div><iframe scrolling="no" frameborder="0" allowtransparency="true" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/widget_iframe.219ae0a24a0fde13418c38af0499134b.html" title="Twitter settings iframe" style="display: none;"></iframe><script type="text/javascript" id="">window.addEventListener("cookieconsent_statuschange",function(){window.dataLayer.push({event:"cc_dismiss"})});function getCookie(a){var b="; "+document.cookie;a=b.split("; "+a+"\x3d");if(2==a.length)return a.pop().split(";").shift()}getCookie("cookieconsent_status")&&window.dataLayer.push({event:"cc_dismiss"});</script>
<script type="text/javascript" id="" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/js"></script><script type="text/javascript" id="">(function(){try{analytics&&analytics.ready(function(){var c=analytics.user().traits(),a=c.recent||[],d=[$("body").data("tutorial-id")||"",Math.round(new Date/864E5)],e=a.length,b;for(b=0;b<e;b++)if(a[b]instanceof Array&&a[b][0]===d[0]){a.splice(b,1);break}a.unshift(d);5<=a.length&&a.pop();c.recent=a;analytics.user().traits(c)})}catch(c){}})();</script><script type="text/javascript" id="">try{document.addEventListener("copy",function(a){window.getSelection&&$(window.getSelection().anchorNode).parents("pre").length&&analytics.track("Web Interaction",{action:"Code Copy",name:window.getSelection().toString().substring(0,64)+(64<window.getSelection().toString().length?"\u2026":"")})})}catch(a){};</script><style>
  .righthand-ctas {
     width: 260px;
     height: 0px;
     margin-left: calc(50% + 423px);
     right: inherit;
     z-index: 50;
     opacity: 1;
  }
  .righthand-ctas .related-links {
    background: #e9f2f7;
    padding: 16px;
    font-size: 16px;
  }
  .righthand-ctas .featured-products {
    background:#FFF;
  }
  .righthand-ctas.table-of-contents:before {
    content: none;
  }
  .righthand-ctas.table-of-contents ul {
    padding:0;
  }
  .righthand-ctas h2 {
    font-size: 18px;
    color: #3a3a3a;
    display:block;
    padding:8px 0;
  }
  .featured-products h2 {
    border-bottom:1px solid #f4f6f9;
    padding-top:48px;
  }
  .featured-products .UnifiedNavDropdown-link { padding:16px 0; }
  .righthand-ctas .related-links a { color: #666; }
  .righthand-ctas .related-links li { padding:8px 0; line-height: 24px}
</style>
<script type="text/javascript" id="">try{google_tag_manager["GTM-KHWBBT"].macro(4)({name:"Tutorial Right Rail Kubernetes",audience:function(){return 1350<$(window).width()&&document.querySelector('.tag[href\x3d"/community/tags/kubernetes?type\x3dtutorials"]')},variants:[{name:"Available Now",func:function(){var b=$(".tutorial-image").length?$(".tutorial-image").offset().top:$(".content-title").offset().top,c=$(".outside_viewport .table-of-contents");$('\x3cdiv class\x3d"righthand-ctas table-of-contents"\x3e\x3cdiv class\x3d"featured-products"\x3e\x3ch2\x3eNow Available\x3c/h2\x3e\x3c/div\x3e\x3c/div\x3e').insertAfter("header").end().css({top:b});
var a=$(".righthand-ctas");$(".featured-products").append('\x3ca href\x3d"/products/kubernetes/"\x3e \x3cdiv class\x3d"UnifiedNavDropdown-link"\x3e \x3cdiv class\x3d"UnifiedNavDropdown-link-icon"\x3e \x3cimg style\x3d"margin-bottom:32px" alt\x3d"" src\x3d"/assets/community/unified-nav/products/kubernetes-f2d12fcd6216cb404dac3a41cfd7a6d3.svg"\x3e \x3c/div\x3e \x3cdiv class\x3d"UnifiedNavDropdown-link-content"\x3e \x3cp class\x3d"UnifiedNavDropdown-link-contentTitle"\x3e Kubernetes \x3c/p\x3e \x3cp class\x3d"UnifiedNavDropdown-link-contentDescription"\x3e Run managed Kubernetes clusters on DigitalOcean.\x3c/p\x3e \x3cspan style\x3d"background:#11a95e;color:#FFF; padding: 0 12px; height: 32px; font-size: 14px; line-height: 32px;display: inline-block; overflow: visible; margin:8px 0 0 0;border: 0; border-radius: 3px;vertical-align: middle; text-align: center; font-weight: 600;"\x3eStart now\x3c/span\x3e \x3c/div\x3e \x3c/div\x3e \x3c/a\x3e');
a.find("a").attr("data-js","gtm_ab_success");window.setInterval(function(){c.hasClass("sticky")?a.addClass("sticky").css({top:72}):a.removeClass("sticky").css({top:b})},50)}},{name:"Available Now",func:function(){var b=$(".tutorial-image").length?$(".tutorial-image").offset().top:$(".content-title").offset().top,c=$(".outside_viewport .table-of-contents");$('\x3cdiv class\x3d"righthand-ctas table-of-contents"\x3e\x3cdiv class\x3d"featured-products"\x3e\x3ch2\x3eAvailable Now\x3c/h2\x3e\x3c/div\x3e\x3c/div\x3e').insertAfter("header").end().css({top:b});
var a=$(".righthand-ctas");$(".featured-products").append('\x3ca href\x3d"/products/kubernetes/"\x3e \x3cdiv class\x3d"UnifiedNavDropdown-link"\x3e \x3cdiv class\x3d"UnifiedNavDropdown-link-icon"\x3e \x3cimg style\x3d"margin-bottom:32px" alt\x3d"" src\x3d"/assets/community/unified-nav/products/kubernetes-f2d12fcd6216cb404dac3a41cfd7a6d3.svg"\x3e \x3c/div\x3e \x3cdiv class\x3d"UnifiedNavDropdown-link-content"\x3e \x3cp class\x3d"UnifiedNavDropdown-link-contentTitle"\x3e Kubernetes \x3c/p\x3e \x3cp class\x3d"UnifiedNavDropdown-link-contentDescription"\x3e Run managed Kubernetes clusters on DigitalOcean.\x3c/p\x3e \x3cspan style\x3d"background:#11a95e;color:#FFF; padding: 0 12px; height: 32px; font-size: 14px; line-height: 32px;display: inline-block; overflow: visible; margin:8px 0 0 0;border: 0; border-radius: 3px;vertical-align: middle; text-align: center; font-weight: 600;"\x3eTry Kubernetes\x3c/span\x3e \x3c/div\x3e \x3c/div\x3e \x3c/a\x3e');
a.find("a").attr("data-js","gtm_ab_success");window.setInterval(function(){c.hasClass("sticky")?a.addClass("sticky").css({top:72}):a.removeClass("sticky").css({top:b})},50)}}]})}catch(b){};</script><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Understanding Nginx HTTP Proxying, Load Balancing, Buffering, and Caching_files/GMRn6XEBZ06.html" style="border: none;"></iframe></div><div></div></div></div>
<script type="text/javascript" id="">window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","AW-836091520");</script>

<script type="text/javascript" id="">(function(){try{analytics&&(analytics.track("dwell",{time:"5 minute"}),analytics.ready(function(){var c=analytics.user().traits(),a=c.dwell||[],d=[$("body").data("tutorial-id")||"",Math.round(new Date/864E5)],e=a.length,b;for(b=0;b<e;b++)if(a[b]instanceof Array&&a[b][0]===d[0]){a.splice(b,1);break}a.unshift(d);5<=a.length&&a.pop();c.dwell=a;analytics.user().traits(c)}))}catch(c){}})();</script></body></html>